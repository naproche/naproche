\documentclass{naproche-library}
\libinput{preamble}
\begin{document}
\IfInputref{}{\setsectionlevel{section}}
\begin{smodule}[title=Segments of the Natural Numbers]{segments-of-natural-numbers.ftl}
\importmodule[libraries/arithmetics]{ordering.ftl}
\importmodule[libraries/set-theory]{zfc.ftl}
\symdef{NATsegment}[args=2]{\highlight{\{}#1\highlight{,\dots,}#2\highlight{\}}}

\begin{convention}[forthel]
  Let $n,m$ denote natural numbers.
\end{convention}

\begin{definition}[forthel,id=NatSegDef]
  $\emph{\NATsegment{n}{m}} = \{ k \in \Nat \mid n \NATleq k \NATleq m \}$.
\end{definition}

\begin{proposition}[forthel,id=NatSegEqProp]
  If $\NATsegment{\NATone}{n} \eq \NATsegment{\NATone}{m}$ then $n \eq m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $\NATsegment{\NATone}{n} \eq \NATsegment{\NATone}{m}$.

  \begin{case}{$n \eq \NATzero$.}
    Then $\NATsegment{\NATone}{n} \eq \SETempty$.
    Thus $\NATsegment{\NATone}{m} \eq \SETempty$.
    Hence there exists no $k \SETin \Nat$ such that $\NATone \NATleq k \NATleq m$.
    Therefore $m \eq \NATzero$.
    Consequently $n \eq m$.
  \end{case}

  \begin{case}{$m \eq \NATzero$.}
    Then $\NATsegment{\NATone}{m} \eq \SETempty$.
    Thus $\NATsegment{\NATone}{n} \eq \SETempty$.
    Hence there exists no $k \SETin \Nat$ such that $\NATone \NATleq k \NATleq n$.
    Therefore $n \eq \NATzero$.
    Consequently $n \eq m$.
  \end{case}

  \begin{case}{$n, m \NATgeq \NATone$.}
    For all $k \SETin \Nat$ we have $\NATone \NATleq k \NATleq n$ iff $\NATone \NATleq k \NATleq m$.
    Hence for all $k \SETin \Nat$ we have $k \NATleq n$ iff $k \NATleq m$.

    Let us show by contradiction that $n \eq m$.
      Suppose $n \neq m$.
      Then $n \NATgtr m$ or $m \NATgtr n$.

      \begin{case}{$n \NATgtr m$.}
        Take $k = m \NATplus \NATone$.
        Then $k \NATleq n$ and $k \NATnleq m$.
        Hence it is wrong that $k \NATleq n$ iff $k \NATleq m$.
        Contradiction.
      \end{case}

      \begin{case}{$m \NATgtr n$.}
        Take $k = n \NATplus \NATone$.
        Then $k \NATleq m$ and $k \NATnleq m$.
        Hence it is wrong that $k \NATleq n$ iff $k \NATleq m$.
        Contradiction.
      \end{case}
    End.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=NatSegSuccProp]
  Assume $m\NATgeq n$.
  Then $\NATsegment{n}{m \NATplus \NATone} \eq \NATsegment{n}{m} \SETunion \SETsingleton{m \NATplus \NATone}$.
\end{proposition}
\begin{proof}[forthel]
  We have $\NATsegment{n}{m \NATplus \NATone} \SETinclude \NATsegment{n}{m} \SETunion \SETsingleton{m \NATplus \NATone}$
  and $\NATsegment{n}{m} \SETunion \SETsingleton{m \NATplus \NATone} \SETinclude \NATsegment{n}{m \NATplus \NATone}$.
\end{proof}

\begin{proposition}[forthel,id=NatSegFinProp]
  $\NATsegment{n}{m}$ is a set.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{$m\NATless n$.}
    Then $\NATsegment{n}{m}\eq\SETempty$.
  \end{case}

  \begin{case}{$m\NATgeq n$.}
    Then $m\eq n\NATplus k$ for some $k\SETin\Nat$.
    Define $\Phi=\{k\in\Nat\mid\text{for all }m'\SETin\Nat\text{ if }m'\eq n\NATplus k\text{ then }\NATsegment{n}{m'}\text{ is a set}\}$.
    
    (1) $\Phi$ contains $\NATzero$.
    Indeed $\NATsegment{n}{n}\eq\SETsingleton{n}$.

    (2) For all $k\SETin\Phi$ we have $k\NATplus\NATone\SETin\Phi$.
    \begin{proof}
      Let $k\SETin\Phi$.

      Let us show that for all $m'\SETin\Nat$ if $m'\eq n\NATplus(k\NATplus\NATone)$ then $\NATsegment{n}{m'}$ is a set.
      \begin{proof}
        Let $m'\SETin\Nat$.
        Assume $m'\eq n\NATplus(k\NATplus\NATone)$.
        Then $\NATsegment{n}{n\NATplus k}$ is a set.
        $\NATsegment{n}{m'}\eq\NATsegment{n}{n\NATplus k}\SETunion\SETsingleton{n\NATplus(k\NATplus\NATone)}$.
      \end{proof}
    \end{proof}

    Hence $\Phi$ contains every natural number (by \printref{ARITHMETIC_01_4764664342773760}).
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=MapOfNatSegIsFunProp]
  Any map of $\NATsegment{n}{m}$ is a function.
\end{proposition}
\end{smodule}
\end{document}
