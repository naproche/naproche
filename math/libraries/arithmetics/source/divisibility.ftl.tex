\documentclass{naproche-library}
\libinput{preamble}
\begin{document}
\IfInputref{}{\setsectionlevel{section}}
\begin{smodule}[title=Divisibility]{divisibility.ftl}
\importmodule[libraries/arithmetics]{multiplication-and-ordering.ftl}
\symdef{NATmid}{\mathrel{\highlight\mid}}
\symdef{NATnmid}{\mathrel{\highlight\nmid}}

\begin{definition}[forthel,id=ARITHMETIC_07_4239998993825792]
  Let $n, m$ be natural numbers.
  $\emph{n \NATmid m}$ iff there exists a natural number $k$ such that $n \NATmul k \eq m$.

  Let $m$ is \emph{divisible by $n$} stand for $n \NATmid m$.
  Let $n$ \emph{divides $m$} stand for $n \NATmid m$.
  Let $\emph{n \NATnmid m}$ stand for not $n \NATmid m$.
\end{definition}

\begin{lemma}[forthel,id=ARITHMETIC_07_1478855118290944]
  Let $n, m$ be natural numbers.
  $n$ divides $m$ iff there exists a natural number $k$ such that $k \NATmul n \eq m$.
\end{lemma}

\begin{definition}[forthel,id=ARITHMETIC_07_1311437490225152]
  Let $n$ be a natural number.
  A \emph{factor of $n$} is a natural number that divides $n$.

  Let a \emph{divisor of $n$} stand for a factor of $n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_5438991513944064]
  Let $n$ be a natural number.
  A \emph{trivial divisor of $n$} is a divisor $m$ of $n$ such that $m \eq \NATone$ or $m \eq n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_8768240253665280]
  Let $n$ be a natural number.
  A \emph{nontrivial divisor of $n$} is a divisor $m$ of $n$ such that $m \neq \NATone$ and $m \neq n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_8020087063707648]
  Let $n$ be a natural number.
  $n$ is \emph{composite} iff $n \NATgtr \NATone$ and $n$ has a nontrivial divisor.
\end{definition}

\begin{proposition}[forthel,id=ARITHMETIC_07_2242720387039232]
  Let $n$ be a natural number.
  Then $n \NATmid \NATzero$.
\end{proposition}
\begin{proof}[forthel]
  We have $n \NATmul \NATzero \eq \NATzero$.
  Hence $n \NATmid \NATzero$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_8611150130315264]
  Let $n$ be a natural number.
  If $\NATzero \NATmid n$ then $n \eq \NATzero$.
\end{proposition}
\begin{proof}[forthel]
  Assume $\NATzero \NATmid n$.
  Consider a natural number $k$ such that $\NATzero \NATmul k \eq n$.
  Then $n \eq \NATzero$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1259086070939648]
  Let $n$ be a natural number.
  Then $\NATone \NATmid n$.
\end{proposition}
\begin{proof}[forthel]
  We have $\NATone \NATmul n \eq n$.
  Hence $\NATone \NATmid n$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_3944887330275328]
  Let $n$ be a natural number.
  Then $n \NATmid n$.
\end{proposition}
\begin{proof}[forthel]
  We have $n \NATmul \NATone \eq n$.
  Hence $n \NATmid n$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_6917446193643520]
  Let $n$ be a natural number.
  If $n \NATmid \NATone$ then $n \eq \NATone$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid \NATone$.
  Take a natural number $k$ such that $n \NATmul k \eq \NATone$.
  Suppose $n \neq \NATone$.
  Then $n \NATless \NATone$ or $n \NATgtr \NATone$.

  \begin{case}{$n \NATless \NATone$.}
    Then $n \eq \NATzero$.
    Hence $\NATzero
      \eq \NATzero \NATmul k
      \eq n \NATmul k
      \eq \NATone$.
    Contradiction.
  \end{case}

  \begin{case}{$n \NATgtr \NATone$.}
    We have $k \neq \NATzero$.
    Indeed if $k \eq \NATzero$ then
    $\NATone
      \eq n \NATmul k
      \eq n \NATmul \NATzero
      \eq \NATzero$.
    Hence $k \NATgeq \NATone$.
    Take a positive natural number $l$ such that $n \eq \NATone \NATplus l$.
    Then $\NATone
      \NATless \NATone \NATplus l
      \eq n
      \eq n \NATmul \NATone
      \NATleq n \NATmul k$.
    Hence $\NATone \NATless n$.
    Contradiction.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_7463519983239168]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $n \NATmid m \NATmul k$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$.
  Take $l \SETin \Nat$ such that $n \NATmul l \eq m$.
  Then $n \NATmul (l \NATmul k)
    \eq (n \NATmul l) \NATmul k
    \eq m \NATmul k$.
  Hence $n \NATmid m \NATmul k$.
\end{proof}

\begin{corollary}[forthel,id=ARITHMETIC_07_1588185794609152]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $n \NATmid k \NATmul m$.
\end{corollary}

\begin{proposition}[forthel,id=ARITHMETIC_07_7863858316181504]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m \NATmid k$ then $n \NATmid k$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$ and $m \NATmid k$.
  Take natural numbers $l,l'$ such that $n \NATmul l \eq m$ and $m \NATmul l' \eq k$.
  Then $n \NATmul (l \NATmul l')
    \eq (n \NATmul l) \NATmul l'
    \eq m \NATmul l'
    \eq k$.
  Hence $n \NATmid k$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_4933275640397824]
  Let $n, m$ be natural numbers such that $n \neq \NATzero$.
  If $n \NATmid m$ and $m \NATmid n$ then $n \eq m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$ and $m \NATmid n$.
  Take natural numbers $k,k'$ such that $n \NATmul k \eq m$ and $m \NATmul k' \eq n$.
  Then $n
    \eq m \NATmul k'
    \eq (n \NATmul k) \NATmul k'
    \eq n \NATmul (k \NATmul k')$.
  Hence $k \NATmul k' \eq \NATone$.
  Thus $k \eq \NATone \eq k'$.
  Therefore $n \eq m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1283495225720832]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $k \NATmul n \NATmid k \NATmul m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$.
  Take a natural number $l$ such that $n \NATmul l \eq m$.
  Then $(k \NATmul n) \NATmul l
    \eq k \NATmul (n \NATmul l)
    \eq k \NATmul m$.
  Hence $k \NATmul n \NATmid k \NATmul m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_6469492028735488]
  Let $n, m, k$ be natural numbers.
  Assume $k \neq \NATzero$.
  If $k \NATmul n \NATmid k \NATmul m$ then $n \NATmid m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmul n \NATmid k \NATmul m$.
  Take a natural number $l$ such that $(k \NATmul n) \NATmul l \eq k \NATmul m$.
  Then $k \NATmul (n \NATmul l) \eq k \NATmul m$.
  Hence $n \NATmul l \eq m$ (by \printref{ARITHMETIC_06_8575191374364672}).
  Thus $n \NATmid m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_4700711333920768]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid m$ then $k \NATmid (n' \NATmul n) \NATplus (m' \NATmul m)$
  for all natural numbers $n', m'$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid m$.
  Let $n', m'$ be natural numbers.
  Take natural numbers $l,l'$ such that $k \NATmul l \eq n$ and $k \NATmul l' \eq m$.
  Then
  \[  k \NATmul ((n' \NATmul l) \NATplus (m' \NATmul l'))                \]
  \[    \eq (k \NATmul (n' \NATmul l)) \NATplus (k \NATmul (m' \NATmul l'))  \]
  \[    \eq ((k \NATmul n') \NATmul l) \NATplus ((k \NATmul m') \NATmul l')  \]
  \[    \eq (n' \NATmul (k \NATmul l)) \NATplus (m' \NATmul (k \NATmul l'))  \]
  \[    \eq (n' \NATmul n) \NATplus (m' \NATmul m).                      \]
\end{proof}

\begin{corollary}[forthel,id=ARITHMETIC_07_1556786209357824]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid m$ then $k \NATmid n \NATplus m$.
\end{corollary}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid m$.
  Take $n' = \NATone$ and $m' = \NATone$.
  Then $k \NATmid (n' \NATmul n) \NATplus (m' \NATmul m)$.
  $(n' \NATmul n) \NATplus (m' \NATmul m) \eq n \NATplus m$.
  Hence $k \NATmid n \NATplus m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1076947887063040]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid n \NATplus m$ then $k \NATmid m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid n \NATplus m$.

  \begin{case}{$k \eq \NATzero$.} \end{case}

  \begin{case}{$k \neq \NATzero$.}
    Take a natural number $l$ such that $n \eq k \NATmul l$.
    Take a natural number $l'$ such that $n \NATplus m \eq k \NATmul l'$.
    Then $(k \NATmul l) \NATplus m \eq k \NATmul l'$.
    We have $l' \NATgeq l$.
    Indeed if $l' \NATless l$ then
    $n \NATplus m
      \eq k \NATmul l'
      \NATless k \NATmul l
      \eq n$ (by \printref{ARITHMETIC_06_5048640368279552}).
    Hence we can take a natural number $l''$ such that $l' \eq l \NATplus l''$.
    Then $(k \NATmul l) \NATplus m
      \eq k \NATmul l'
      \eq k \NATmul (l \NATplus l'')
      \eq (k \NATmul l) \NATplus (k \NATmul l'')$.
    Indeed $k \NATmul (l \NATplus l'') \eq (k \NATmul l) \NATplus (k \NATmul l'')$ (by \printref{ARITHMETIC_06_9001524774567936}).
    Thus $m \eq (k \NATmul l'')$ (by \printref{ARITHMETIC_03_8445946379632640}).
    Indeed $k \NATmul l$ and $k \NATmul l''$ are natural numbers.
    Therefore $k \NATmid m$.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_2187144577679360]
  Let $n, m$ be natural numbers such that $n, m \neq \NATzero$.
  If $m \NATmid n$ then $m \NATleq n$.
\end{proposition}
\begin{proof}[forthel]
  Assume $m \NATmid n$.
  Take a natural number $k$ such that $m \NATmul k \eq n$.
  If $k \eq \NATzero$ then
  $n
    \eq m \NATmul k
    \eq m \NATmul \NATzero
    \eq \NATzero$.
  Thus $k \NATgeq \NATone$.
  Assume $m \NATgtr n$.
  Then $n
    \eq m \NATmul k
    \NATgeq m \NATmul \NATone
    \eq m
    \NATgtr n$.
  Hence $n \NATgtr n$.
  Contradiction.
\end{proof}
\end{smodule}
\end{document}
