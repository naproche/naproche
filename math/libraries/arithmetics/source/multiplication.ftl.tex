\documentclass{naproche-library}
\libinput{preamble}
\begin{document}
\IfInputref{}{\setsectionlevel{section}}
\begin{smodule}[title=Multiplication]{multiplication.ftl}
\importmodule[libraries/arithmetics]{natural-numbers.ftl}
\symdef{NATmul}{\mathbin{\highlight\cdot}}

\begin{sfragment}{Definition}
  \begin{signature}[forthel,id=ARITHMETIC_06_6626346484629504]
    Let $n, m$ be natural numbers.
    $\emph{n \NATmul m}$ is a natural number.

    Let the \emph{product of $n$ and $m$} stand for $n \NATmul m$.
  \end{signature}

  \begin{axiom}[forthel,id=ARITHMETIC_06_8941041092657152]
    Let $n$ be a natural number.
    Then $n \NATmul \NATzero \eq \NATzero$.
  \end{axiom}

  \begin{axiom}[forthel,id=ARITHMETIC_06_2211275408932864]
    Let $n, m$ be natural numbers.
    Then $n \NATmul (m \NATplus \NATone) \eq (n \NATmul m) \NATplus n$.
  \end{axiom}
\end{sfragment}

\begin{sfragment}{Computation Laws}
  \begin{sfragment}{Distributivity}
    \begin{proposition}[forthel,id=ARITHMETIC_06_9001524774567936]
      Let $n, m, k$ be natural numbers.
      Then $n \NATmul (m \NATplus k) \eq (n \NATmul m) \NATplus (n \NATmul k)$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \{ k' \in \Nat \mid n \NATmul (m \NATplus k') \eq (n \NATmul m) \NATplus (n \NATmul k') \}$.

      (1) $\NATzero$ is an element of $\Phi$.
      Indeed $n \NATmul (m \NATplus \NATzero)
        \eq n \NATmul m
        \eq (n \NATmul m) \NATplus \NATzero
        \eq (n \NATmul m) \NATplus (n \NATmul \NATzero)$.

      (2) For all $k' \SETin \Phi$ we have $k' \NATplus \NATone \SETin \Phi$. 
      \begin{proof}
        Let $k'\SETin \Phi$.
        Then
        \[  n \NATmul (m \NATplus (k' \NATplus \NATone))                  \]
        \[    \eq n \NATmul ((m \NATplus k') \NATplus \NATone)              \]
        \[    \eq (n \NATmul (m \NATplus k')) \NATplus n              \]
        \[    \eq ((n \NATmul m) \NATplus (n \NATmul k')) \NATplus n    \]
        \[    \eq (n \NATmul m) \NATplus ((n \NATmul k') \NATplus n)    \]
        \[    \eq (n \NATmul m) \NATplus (n \NATmul (k' \NATplus \NATone)).   \]
        Hence $n \NATmul (m \NATplus (k' \NATplus \NATone)) \eq (n \NATmul m) \NATplus (n \NATmul (k' \NATplus \NATone))$.
        Thus $k' \NATplus \NATone \SETin \Phi$.
      \end{proof}

      Thus every natural number is contained in $\Phi$.
      Therefore $n \NATmul (m \NATplus k) \eq (n \NATmul m) \NATplus (n \NATmul k)$.
    \end{proof}

    \begin{proposition}[forthel,id=ARITHMETIC_06_5742967566368768]
      Let $n, m, k$ be natural numbers.
      Then $(n \NATplus m) \NATmul k \eq (n \NATmul k) \NATplus (m \NATmul k)$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \{ k' \in \Nat \mid (n \NATplus m) \NATmul k' \eq (n \NATmul k') \NATplus (m \NATmul k') \}$.

      (1) $\NATzero$ belongs to $\Phi$.
      Indeed $((n \NATplus m) \NATmul \NATzero)
        \eq \NATzero
        \eq \NATzero \NATplus \NATzero
        \eq (n \NATmul \NATzero) \NATplus (m \NATmul \NATzero)$.

      (2) For all $k' \SETin \Phi$ we have $k' \NATplus \NATone \SETin \Phi$.
      \begin{proof}
        Let $k' \SETin \Phi$.
        Then
        \[  (n \NATplus m) \NATmul (k' \NATplus \NATone)                        \]
        \[    \eq ((n \NATplus m) \NATmul k') \NATplus (n \NATplus m)              \]
        \[    \eq ((n \NATmul k') \NATplus (m \NATmul k')) \NATplus (n \NATplus m)   \]
        \[    \eq (((n \NATmul k') \NATplus (m \NATmul k')) \NATplus n) \NATplus m   \]
        \[    \eq ((n \NATmul k') \NATplus ((m \NATmul k') \NATplus n)) \NATplus m   \]
        \[    \eq ((n \NATmul k') \NATplus (n \NATplus (m \NATmul k'))) \NATplus m   \]
        \[    \eq (((n \NATmul k') \NATplus n) \NATplus (m \NATmul k')) \NATplus m   \]
        \[    \eq ((n \NATmul k') \NATplus n) \NATplus ((m \NATmul k') \NATplus m)   \]
        \[    \eq (n \NATmul (k' \NATplus \NATone)) \NATplus (m \NATmul (k' \NATplus \NATone)).  \]
        Thus $(n \NATplus m) \NATmul (k' \NATplus \NATone) \eq (n \NATmul (k' \NATplus \NATone)) \NATplus (m \NATmul (k' \NATplus \NATone))$.
      \end{proof}

      Thus every natural number is an element of $\Phi$.
      Therefore $(n \NATplus m) \NATmul k \eq (n \NATmul k) \NATplus (m \NATmul k)$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Multiplication with $1$ and $2$}
    \begin{proposition}[forthel,id=ARITHMETIC_06_2910559821365248]
      Let $n$ be a natural number.
      Then $n \NATmul \NATone \eq n$.
    \end{proposition}
    \begin{proof}[forthel]
      $n \NATmul \NATone
        \eq n \NATmul (\NATzero \NATplus \NATone)
        \eq (n \NATmul \NATzero) \NATplus n
        \eq \NATzero \NATplus n
        \eq n$.
    \end{proof}

    \begin{corollary}[forthel,id=ARITHMETIC_06_5679541582299136]
      Let $n$ be a natural number.
      Then $n \NATmul \NATtwo \eq n \NATplus n$.
    \end{corollary}
    \begin{proof}[forthel]
      $n \NATmul \NATtwo
        \eq n \NATmul (\NATone \NATplus \NATone)
        \eq (n \NATmul \NATone) \NATplus n
        \eq n \NATplus n$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Associativity}
    \begin{proposition}[forthel,id=ARITHMETIC_06_347295585402880]
      Let $n, m, k$ be natural numbers.
      Then $n \NATmul (m \NATmul k) \eq (n \NATmul m) \NATmul k$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \{ k' \in \Nat \mid n \NATmul (m \NATmul k') \eq (n \NATmul m) \NATmul k' \}$.

      (1) $\NATzero$ is contained in $\Phi$.
      Indeed $n \NATmul (m \NATmul \NATzero)
        \eq n \NATmul \NATzero
        \eq \NATzero
        \eq (n \NATmul m) \NATmul \NATzero$.

      (2) For all $k' \SETin \Phi$ we have $k' \NATplus \NATone \SETin \Phi$.
      \begin{proof}
        Let $k' \SETin \Phi$.
        Then
        \[  n \NATmul (m \NATmul (k' \NATplus \NATone))                          \]
        \[    \eq n \NATmul ((m \NATmul k') \NATplus m)                      \]
        \[    \eq (n \NATmul (m \NATmul k')) \NATplus (n \NATmul m)            \]
        \[    \eq ((n \NATmul m) \NATmul k') \NATplus (n \NATmul m)            \]
        \[    \eq ((n \NATmul m) \NATmul k') \NATplus ((n \NATmul m) \NATmul \NATone)  \]
        \[    \eq (n \NATmul m) \NATmul (k' \NATplus \NATone).                     \]
      \end{proof}

      Hence every natural number is contained in $\Phi$ (by \printref{ARITHMETIC_01_4764664342773760}).
      Thus $n \NATmul (m \NATmul k) \eq (n \NATmul m) \NATmul k$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Commutativity}
    \begin{proposition}[forthel,id=ARITHMETIC_06_1764759896588288]
      Let $n, m$ be natural numbers.
      Then \[ n \NATmul m \eq m \NATmul n. \]
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \{ m' \in \Nat \mid n \NATmul m' \eq m' \NATmul n \}$.

      (1) $\NATzero$ is contained in $\Phi$.
      \begin{proof}
        Define $\Psi = \{ n' \in \Nat \mid n' \NATmul \NATzero \eq \NATzero \NATmul n' \}$.

        (1a) $\NATzero$ is contained in $\Psi$.

        (1b) For all $n' \SETin \Psi$ we have $n' \NATplus \NATone \SETin \Psi$.
        \begin{proof}
          Let $n' \SETin \Psi$.
          Then
          \[ (n' \NATplus \NATone) \NATmul \NATzero
            \eq \NATzero
            \eq n' \NATmul \NATzero
            \eq \NATzero \NATmul n'
            \eq (\NATzero \NATmul n') \NATplus \NATzero
            \eq \NATzero \NATmul (n' \NATplus \NATone). \]
        \end{proof}

        Hence every natural number is contained in $\Psi$ (by \printref{ARITHMETIC_01_4764664342773760}).
        Thus $n \NATmul \NATzero \eq \NATzero \NATmul n$.
      \end{proof}

      (2) $\NATone$ belongs to $\Phi$.
      \begin{proof}
        Define $\Theta = \{ n' \in \Nat \mid n' \NATmul \NATone \eq \NATone \NATmul n' \}$.

        (2a) $\NATzero$ is contained in $\Theta$.

        (2b) For all $n' \SETin \Theta$ we have $n' \NATplus \NATone \SETin \Theta$.
        \begin{proof}
          Let $n' \SETin \Theta$.
          Then
          \[  (n' \NATplus \NATone) \NATmul \NATone        \]
          \[    \eq (n' \NATmul \NATone) \NATplus \NATone    \]
          \[    \eq (\NATone \NATmul n') \NATplus \NATone    \]
          \[    \eq \NATone \NATmul (n' \NATplus \NATone).   \]
        \end{proof}

        Thus every natural number is contained in $\Theta$ (by \printref{ARITHMETIC_01_4764664342773760}).
        Therefore $n \NATmul \NATone \eq \NATone \NATmul n$.
      \end{proof}

      (3) For all $m' \SETin \Phi$ we have $m' \NATplus \NATone \SETin \Phi$.
      \begin{proof}
        Let $m' \SETin \Phi$.
        Then
        \[  n \NATmul (m' \NATplus \NATone)                \]
        \[    \eq (n \NATmul m') \NATplus (n \NATmul \NATone)  \]
        \[    \eq (m' \NATmul n) \NATplus (\NATone \NATmul n)  \]
        \[    \eq (\NATone \NATmul n) \NATplus (m' \NATmul n)  \]
        \[    \eq (\NATone \NATplus m') \NATmul n            \]
        \[    \eq (m' \NATplus \NATone) \NATmul n.           \]
        Indeed $((\NATone \NATmul n) \NATplus (m' \NATmul n)) \eq (\NATone \NATplus m') \NATmul n$. %!
      \end{proof}

      Hence every natural number is contained in $\Phi$ (by \printref{ARITHMETIC_01_4764664342773760}).
      Thus $n \NATmul m \eq m \NATmul n$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Non-Existence of Zero-Divisors}
    \begin{proposition}[forthel,id=ARITHMETIC_06_3843962875936768]
      Let $n, m$ be natural numbers such that $n \NATmul m \eq \NATzero$.
      Then $n \eq \NATzero$ or $m \eq \NATzero$.
    \end{proposition}
    \begin{proof}[forthel]
      Suppose $n, m \neq \NATzero$.
      Take natural numbers $n', m'$ such that $n \eq (n' \NATplus \NATone)$ and $m \eq (m' \NATplus \NATone)$.
      Then
      \[  \NATzero                                     \]
      \[    \eq n \NATmul m                         \]
      \[    \eq (n' \NATplus \NATone) \NATmul (m' \NATplus \NATone)           \]
      \[    \eq ((n' \NATplus \NATone) \NATmul m') \NATplus (n' \NATplus \NATone)    \]
      \[    \eq (((n' \NATplus \NATone) \NATmul m') \NATplus n') \NATplus \NATone.   \]
      Indeed $(n' \NATplus \NATone) \NATmul (m' \NATplus \NATone) \eq ((n' \NATplus \NATone) \NATmul m') \NATplus (n' \NATplus \NATone)$.
      Hence $\NATzero \eq k \NATplus \NATone$ for some natural number $k$.
      Contradiction.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Cancellation}
    \begin{proposition}[forthel,id=ARITHMETIC_06_31055184658432]
      Let $n, m, k$ be natural numbers.
      Assume $k \neq \NATzero$.
      If $n \NATmul k \eq m \NATmul k$ then $n \eq m$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \{ n' \in \Nat \mid\text{ for all }m' \SETin \Nat\text{ if }n' \NATmul k \eq m' \NATmul k\text{ and }k \neq \NATzero\text{ then }n' \eq m' \}$.

      (1) $\NATzero$ is contained in $\Phi$.
      \begin{proof}
        Let $m' \SETin \Nat$.
        Assume $\NATzero \NATmul k \eq m' \NATmul k$ and $k \neq \NATzero$.
        Then $m' \NATmul k \eq \NATzero$.
        Hence $m' \eq \NATzero$ or $k \eq \NATzero$.
        Thus $m' \eq \NATzero$.
      \end{proof}

      (2) For all $n' \SETin \Phi$ we have $n' \NATplus \NATone \SETin \Phi$. 
      \begin{proof}
        Let $n' \SETin \Phi$.

        Let us show that for all $m' \SETin \Nat$ if $(n' \NATplus \NATone) \NATmul k \eq m' \NATmul k$ and $k \neq \NATzero$ then $n' \NATplus \NATone \eq m'$.
          Let $m' \SETin \Nat$.
          Assume $(n' \NATplus \NATone) \NATmul k \eq m' \NATmul k$ and $k \neq \NATzero$.

          \begin{case}{$m' \eq \NATzero$.}
            Then $(n' \NATplus \NATone) \NATmul k \eq \NATzero$.
            Hence $n' \NATplus \NATone \eq \NATzero$.
            Contradiction.
          \end{case}

          \begin{case}{$m' \neq \NATzero$.}
            Take a natural number $l$ such that $m' \eq l \NATplus \NATone$.
            Then $(n' \NATplus \NATone) \NATmul k \eq (l \NATplus \NATone) \NATmul k$.
            Hence $(n' \NATmul k) \NATplus k
              \eq (n' \NATmul k) \NATplus (\NATone \NATmul k)
              \eq (n' \NATmul k) \NATplus k
              \eq (l \NATplus \NATone) \NATmul k
              \eq (l \NATmul k) \NATplus (\NATone \NATmul k)
              \eq (l \NATmul k) \NATplus k$.
            Thus $n' \NATmul k \eq l \NATmul k$ (by \printref{ARITHMETIC_03_3137702874578944}).
            Indeed $n' \NATmul k$ and $l \NATmul k$ are natural numbers.
            Then we have $n' \eq l$.
            Indeed if $n' \NATmul k \eq l \NATmul k$ and $k \neq \NATzero$ then $n' \eq l$.
            Therefore $n' \NATplus \NATone \eq l \NATplus \NATone \eq m'$.
          \end{case}
        End.

        Hence $n' \NATplus \NATone \SETin \Phi$.
      \end{proof}

      Thus every natural number is contained in $\Phi$ (by \printref{ARITHMETIC_01_4764664342773760}).
      Therefore if $n \NATmul k \eq m \NATmul k$ then $n \eq m$.
    \end{proof}

    \begin{corollary}[forthel,id=ARITHMETIC_06_8575191374364672]
      Let $n, m, k$ be natural numbers.
      Assume $k \neq \NATzero$.
      If $k \NATmul n \eq k \NATmul m$ then $n \eq m$.
    \end{corollary}
    \begin{proof}[forthel]
      Assume $k \NATmul n \eq k \NATmul m$.
      We have $k \NATmul n \eq n \NATmul k$ and $k \NATmul m \eq m \NATmul k$.
      Hence $n \NATmul k \eq m \NATmul k$.
      Thus $n \eq m$ (by \printref{ARITHMETIC_06_31055184658432}).
    \end{proof}
  \end{sfragment}
\end{sfragment}
\end{smodule}
\end{document}
