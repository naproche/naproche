\documentclass{naproche-library}
\libinput{preamble}
\begin{document}
\IfInputref{}{\setsectionlevel{section}}
\begin{smodule}[title=Computation Laws for Cartesian Products]{computation-laws-for-products.ftl}
\importmodule[libraries/foundations]{computation-laws-for-classes.ftl}
\importmodule[libraries/foundations]{pairs-and-products.ftl}

\begin{sfragment}{Subclass Laws}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_5719644021194752]
    Let $A, B, C$ be classes.
    IF $A \SETinclude B$ then $A \SETprod C \SETinclude B \SETprod C$.
  \end{proposition}
  \begin{proof}[forthel]
    Assume $A \SETinclude B$.
    Let $x \in A \SETprod C$.
    Take $a \in A$ and $c \in C$ such that $x \eq (a, c)$.
    Then $a \in B$.
    Hence $(a, c) \in B \SETprod C$.
  \end{proof}

  \begin{proposition}[forthel,id=FOUNDATIONS_05_4888282951319552]
    Let $A, A', B, B'$ be classes.
    Assume that $A$ and $A'$ are nonempty.
    Then $(A \SETprod A') \SETinclude (B \SETprod B')$ iff $A \SETinclude B$ and $A' \SETinclude B'$.
  \end{proposition}
  \begin{proof}[forthel]
    Case $(A \SETprod A') \SETinclude (B \SETprod B')$.
      Let us show that for all $a \in A$ and all $a' \in A'$ we have $a \in B$ and $a' \in B'$.
        Let $a \in A$ and $a' \in A'$.
        Then $(a, a') \in A \SETprod A'$.
        Hence $(a, a') \in B \SETprod B'$.
        Thus $a \in B$ and $a' \in B'$.
      End.
    End.

    Case $A \SETinclude B$ and $A' \SETinclude B'$.
      Let $x \in A \SETprod A'$.
      Take $a \in A$ and $a' \in A'$ such that $x \eq (a, a')$.
      Then $a \in B$ and $a' \in B'$.
      Hence $(a, a') \in B \SETprod B'$.
    End.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Distributivity of Product and Union}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_8849658323402752]
    Let $A, B, C$ be classes.
    Then $(A \SETunion B) \SETprod C \eq (A \SETprod C) \SETunion (B \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $((A \SETunion B) \SETprod C) \SETinclude (A \SETprod C) \SETunion (B \SETprod C).$ %!
      Let $x \in (A \SETunion B) \SETprod C$.
      Take $y \in A \SETunion B$ and $c \in C$ such that $x \eq (y, c)$.
      Then $y \in A$ or $y \in B$.
      If $y \in A$ then $x \in A \SETprod C$ and if $y \in B$ then $x \in B \SETprod C$.
      Hence $x \in A \SETprod C$ or $x \in B \SETprod C$.
      Thus $x \in (A \SETprod C) \SETunion (B \SETprod C)$.
    End.

    Let us show that $((A \SETprod C) \SETunion (B \SETprod C)) \SETinclude (A \SETunion B) \SETprod C$. %!
      Let $x \in (A \SETprod C) \SETunion (B \SETprod C)$.
      Then $x \in A \SETprod C$ or $x \in B \SETprod C$.
      Take objects $y, c$ such that $x \eq (y, c)$.
      Then ($y \in A$ or $y \in B$) and $c \in C$.
      Hence $y \in A \SETunion B$.
      Thus $x \in (A \SETunion B) \SETprod C$.
    End.
  \end{proof}

  \begin{proposition}[forthel,id=FOUNDATIONS_05_476526841692160]
    Let $A, B, C$ be classes.
    Then $A \SETprod (B \SETunion C) \eq (A \SETprod B) \SETunion (A \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $A \SETprod (B \SETunion C) \SETinclude (A \SETprod B) \SETunion (A \SETprod C)$.
      Let $x \in A \SETprod (B \SETunion C)$.
      Take $a \in A$ and $y \in B \SETunion C$ such that $x \eq (a, y)$.
      Then $y \in B$ or $y \in C$.
      Hence $x \in A \SETprod B$ or $x \in A \SETprod C$.
      Indeed if $y \in B$ then $x \in A \SETprod B$ and if $y \in C$ then $x \in A \SETprod C$.
      Thus $x \in (A \SETprod B) \SETunion (A \SETprod C)$.
    End.

    Let us show that $((A \SETprod B) \SETunion (A \SETprod C)) \SETinclude A \SETprod (B \SETunion C)$.
      Let $x \in (A \SETprod B) \SETunion (A \SETprod C)$.
      Then $x \in A \SETprod B$ or $x \in A \SETprod C$.
      Take objects $a, y$ such that $x \eq (a, y)$.
      Then $a \in A$ and ($y \in B$ or $y \in C$).
      Hence $x \in A \SETprod (B \SETunion C)$.
    End.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Distributivity of Product and Intersection}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_1249567930580992]
    Let $A, B, C$ be classes.
    Then $(A \SETintersect B) \SETprod C \eq (A \SETprod C) \SETintersect (B \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $((A \SETintersect B) \SETprod C) \SETinclude (A \SETprod C) \SETintersect (B \SETprod C)$. %!
      Let $x \in (A \SETintersect B) \SETprod C$.
      Take $y \in A \SETintersect B$ and $c \in C$ such that $x \eq (y, c)$.
      Then $y \in A$ and $y \in B$.
      Hence $x \in A \SETprod C$ and $x \in B \SETprod C$.
      Thus $x \in (A \SETprod C) \SETintersect (B \SETprod C)$.
    End.

    Let us show that $((A \SETprod C) \SETintersect (B \SETprod C)) \SETinclude (A \SETintersect B) \SETprod C$. %!
      Let $x \in (A \SETprod C) \SETintersect (B \SETprod C)$.
      Then $x \in A \SETprod C$ and $x \in B \SETprod C$.
      Take objects $y, z$ such that $x \eq (y, z)$.
      Then ($y \in A$ and $y \in B$) and $z \in C$.
      Hence $y \in A \SETintersect B$.
      Thus $x \in (A \SETintersect B) \SETprod C$.
    End.
  \end{proof}

  \begin{proposition}[forthel,id=FOUNDATIONS_05_954964241285120]
    Let $A, B, C$ be classes.
    Then $A \SETprod (B \SETintersect C) \eq (A \SETprod B) \SETintersect (A \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $A \SETprod (B \SETintersect C) \SETinclude (A \SETprod B) \SETintersect (A \SETprod C)$.
      Let $x \in A \SETprod (B \SETintersect C)$.
      Take $a \in A$ and $b \in B \SETintersect C$ such that $x \eq (a, b)$.
      Then $b \in B$ and $b \in C$.
      Hence $x \in A \SETprod B$ and $x \in A \SETprod C$.
      Thus $x \in (A \SETprod B) \SETintersect (A \SETprod C)$.
    End.

    Let us show that $((A \SETprod B) \SETintersect (A \SETprod C)) \SETinclude A \SETprod (B \SETintersect C)$. %!
      Let $x \in (A \SETprod B) \SETintersect (A \SETprod C)$.
      Then $x \in A \SETprod B$ and $x \in A \SETprod C$.
      Take objects $y, z$ such that $x \eq (y, z)$.
      Then $y \in A$ and ($z \in B$ and $z \in C$).
      Hence $x \in A \SETprod (B \SETintersect C)$.
    End.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Distributivity of Product and Complement}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_6495329908162560]
    Let $A, B, C$ be classes.
    Then $(A \SETdiff B) \SETprod C \eq (A \SETprod C) \SETdiff (B \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $((A \SETdiff B) \SETprod C) \SETinclude (A \SETprod C) \SETdiff (B \SETprod C).$ %!
      Let $x \in (A \SETdiff B) \SETprod C$.
      Take $a \in A \SETdiff B$ and $c \in C$ such that $x \eq (a, c)$.
      Then $a \in A$ and $a \notin B$.
      Hence $x \in A \SETprod C$ and $x \notin B \SETprod C$.
      Thus $x \in (A \SETprod C) \SETdiff (B \SETprod C)$.
    End.

    Let us show that $((A \SETprod C) \SETdiff (B \SETprod C)) \SETinclude (A \SETdiff B) \SETprod C$. %!
      Let $x \in (A \SETprod C) \SETdiff (B \SETprod C)$.
      Then $x \in A \SETprod C$ and $x \notin B \SETprod C$.
      Take $a \in A$ and $c \in C$ such that $x \eq (a, c)$.
      Then $a \notin B$.
      Indeed if $a \in B$ then $x \in B \SETprod C$.
      Hence $a \in A \SETdiff B$.
      Thus $x \in (A \SETdiff B) \SETprod C$.
    End.
  \end{proof}

  \begin{proposition}[forthel,id=FOUNDATIONS_05_3195639422779392]
    Let $A, B, C$ be classes.
    Then $A \SETprod (B \SETdiff C) \eq (A \SETprod B) \SETdiff (A \SETprod C)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $A \SETprod (B \SETdiff C) \SETinclude (A \SETprod B) \SETdiff (A \SETprod C)$.
      Let $x \in A \SETprod (B \SETdiff C)$.
      Take $a \in A$ and $b \in B \SETdiff C$ such that $x \eq (a, b)$.
      Then $b \in B$ and $b \notin C$.
      Hence $x \in A \SETprod B$ and $x \notin A \SETprod C$.
      Thus $x \in (A \SETprod B) \SETdiff (A \SETprod C)$.
    End.

    Let us show that $((A \SETprod B) \SETdiff (A \SETprod C)) \SETinclude A \SETprod (B \SETdiff C)$. %!
      Let $x \in (A \SETprod B) \SETdiff (A \SETprod C)$.
      Then $x \in A \SETprod B$ and $x \notin A \SETprod C$.
      Take objects $a, b$ such that $x \eq (a, b)$.
      Then $a \in A$ and ($b \in B$ and $b \notin C$).
      Hence $x \in A \SETprod (B \SETdiff C)$.
    End.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Equality Law}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_2677218429894656]
    Let $A, A', B, B'$ be classes.
    Assume that $A$ and $A'$ are nonempty or $B$ and $B'$ are nonempty.
    Then $(A \SETprod A') \eq (B \SETprod B')$ iff $A \eq B$ and $A' \eq B'$.
  \end{proposition}
  \begin{proof}[forthel]
    Case $A \SETprod A' \eq B \SETprod B'$.
      Then $A$ and $A'$ are nonempty iff $B$ and $B'$ are nonempty.

      Let us show that for all $a \in A$ and all $a' \in A'$ we have $a \in B$ and $a' \in B'$.
        Let $a \in A$ and $a' \in A'$.
        Then $(a, a') \in A \SETprod A'$.
        Hence we can take $x \in B \SETprod B'$ such that $x \eq (a, a')$.
        Thus $a \in B$ and $a' \in B'$.
      End.

      Therefore $A \SETinclude B$ and $A' \SETinclude B'$.
      Indeed $A$ and $A'$ are nonempty.

      Let us show that for all $b \in B$ and all $b' \in B'$ we have $b \in A$ and $b' \in A'$.
        Let $b \in B$ and $b' \in B'$.
        Then $(b, b') \in B \SETprod B'$.
        Hence we can take $x \in A \SETprod A'$ such that $x \eq (b, b')$.
        Thus $(b, b') \in A \SETprod A'$.
      End.

      Therefore $B \SETinclude A$ and $B' \SETinclude A'$.
      Indeed $B$ and $B'$ are nonempty.
    End.

    Case $A \eq B$ and $A' \eq B'$. Trivial.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Intersections of Products}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_4154592050806784]
    Let $A, A', B, B'$ be classes.
    Then $(A \SETprod B) \SETintersect (A' \SETprod B') \eq (A \SETintersect A') \SETprod (B \SETintersect B')$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $((A \SETprod B) \SETintersect (A' \SETprod B')) \SETinclude (A \SETintersect A') \SETprod (B \SETintersect B')$. %!
      Let $x \in (A \SETprod B) \SETintersect (A' \SETprod B')$.
      Then $x \in A \SETprod B$ and $x \in A' \SETprod B'$.
      Take objects $a, b$ such that $x \eq (a, b)$.
      Then $a \in A, A'$ and $b \in B, B'$.
      Hence $a \in A \SETintersect A'$ and $b \in B \SETintersect B'$.
      Thus $x \in (A \SETintersect A') \SETprod (B \SETintersect B')$.
    End.

    Let us show that $(A \SETintersect A') \SETprod (B \SETintersect B') \SETinclude (A \SETprod B) \SETintersect (A' \SETprod B')$.
      Let $x \in (A \SETintersect A') \SETprod (B \SETintersect B')$.
      Take elements $a, b$ such that $x \eq (a, b)$.
      Then $a \in A \SETintersect A'$ and $b \in B \SETintersect B'$.
      Hence $a \in A, A'$ and $b \in B, B'$.
      Thus $x \in A \SETprod B$ and $x \in A' \SETprod B'$.
      Therefore $x \in (A \SETprod B) \SETintersect (A' \SETprod B')$.
    End.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Unions of Products}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_7090174334861312]
    Let $A, A', B, B'$ be classes.
    Then $(A \SETprod B) \SETunion (A' \SETprod B') \SETinclude (A \SETunion A') \SETprod (B \SETunion B')$.
  \end{proposition}
  \begin{proof}[forthel]
    Let $x \in (A \SETprod B) \SETunion (A' \SETprod B')$.
    Then $x \in A \SETprod B$ or $x \in A' \SETprod B'$.
    Take objects $a, b$ such that $x \eq (a, b)$.
    Then ($a \in A$ or $a \in A'$) and ($b \in B$ or $b \in B'$).
    Hence $a \in A \SETunion A'$ and $b \in B \SETunion B'$.
    Thus $x \in (A \SETunion A') \SETprod (B \SETunion B')$.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Complements of Products}
  \begin{proposition}[forthel,id=FOUNDATIONS_05_5552125989879808]
    Let $A, A', B, B'$ be classes.
    Then $(A \SETprod B) \SETdiff (A' \SETprod B') \eq (A \SETprod (B \SETdiff B')) \SETunion ((A \SETdiff A') \SETprod B)$.
  \end{proposition}
  \begin{proof}[forthel]
    Let us show that $((A \SETprod B) \SETdiff (A' \SETprod B')) \SETinclude (A \SETprod (B \SETdiff B')) \SETunion ((A \SETdiff A') \SETprod B)$.
      Let $x \in (A \SETprod B) \SETdiff (A' \SETprod B')$.
      Then $x \in A \SETprod B$ and $x \notin A' \SETprod B'$.
      Take $a \in A$ and $b \in B$ such that $x \eq (a, b)$.
      Then it is wrong that $a \in A'$ and $b \in B'$.
      Hence $a \notin A'$ or $b \notin B'$.
      Thus $a \in A \SETdiff A'$ or $b \in B \SETdiff B'$.
      Therefore $x \in A \SETprod (B \SETdiff B')$ or $x \in (A \SETdiff A') \SETprod B$.
      Hence we have $x \in (A \SETprod (B \SETdiff B')) \SETunion ((A \SETdiff A') \SETprod B)$.
    End.

    Let us show that $(A \SETprod (B \SETdiff B')) \SETunion ((A \SETdiff A') \SETprod B) \SETinclude (A \SETprod B) \SETdiff (A' \SETprod B')$.
      Let $x \in (A \SETprod (B \SETdiff B')) \SETunion ((A \SETdiff A') \SETprod B)$.
      Then $x \in (A \SETprod (B \SETdiff B'))$ or $x \in ((A \SETdiff A') \SETprod B)$.
      Take elements $a,b$ such that $x \eq (a, b)$ (by \printref{FOUNDATIONS_04_2877806274936832}).
      Then ($a \in A$ and $b \in B \SETdiff B'$) or ($a \in A \SETdiff A'$ and $b \in B$).

      Case $a \in A$ and $b \in B \SETdiff B'$.
        Then $a \in A$ and $b \in B$.
        Hence $x \in A \SETprod B$.
        We have $b \notin B'$.
        Thus $x \notin A' \SETprod B'$.
        Therefore $x \in (A \SETprod B) \SETdiff (A' \SETprod B')$.
      End.

      Case $a \in A \SETdiff A'$ and $b \in B$.
        Then $a \in A$ and $b \in B$.
        Hence $x \in A \SETprod B$.
        We have $a \notin A'$.
        Thus $x \notin A' \SETprod B'$.
        Therefore $x \in (A \SETprod B) \SETdiff (A' \SETprod B')$.
      End.
    End.
  \end{proof}
\end{sfragment}
\end{smodule}
\end{document}
