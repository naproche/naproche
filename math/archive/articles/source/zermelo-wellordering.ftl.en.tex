\documentclass{stex}
\libusepackage{naproche}
\libusepackage{copyright}
\libinput{preamble}

\newcommand\Ord{\textbf{Ord}}

\title{Zermelo's Well-ordering Theorem in \Naproche}
\author{Marcel Schütz}
\date{2025}

\begin{document}
\begin{smodule}{zermelo-wellordering.ftl}
\maketitle

\importmodule[libraries/foundations]{equinumerosity.ftl}
\importmodule[libraries/foundations]{choice-maps.ftl}
\importmodule[libraries/foundations]{proper-classes.ftl}
\importmodule[articles]{transfinite-recursion.ftl}

\symdecl*{Zermelo}

\noindent This is a formalization of \textit{Zermelo's Well-ordering Theorem},
i.e. of the assertion that under the assumption of the axiom of choice every
set is equinumerous to some ordinal number, where an ordinal number is
regarded as a transitive set whose elements are transitive sets as well.
The proof of this theorem presented here is oriented on \cite{Koepke2018}.

In the following, for any class $A$, we write $\ORDfunspace{A}$ to
denote the collection of all maps $f \FUNfromto{\alpha}{A}$ for some ordinal
$\alpha$.
Moreover, for any map $G \FUNfromto{\ORDfunspace{A}}{A}$ we say that a map
$F \FUNfromto{\Ord}{A}$, where $\Ord$ denotes the class of all ordinals, is
recursive regarding $G$ if $F(\alpha) \Eq G(F \FUNrest \alpha)$ for all
$\alpha \Elem \Ord$.

\begin{theorem}[forthel,title=Zermelo's Well-Ordering Theorem,name=Zermelo]
  Every set is equinumerous to some ordinal.
\end{theorem}
\begin{proof}[forthel]
  Let $x$ be a set.
  Consider a choice map $g$ for $\SETpow(x) \SETdiff \SETsingleton{\SETempty}$.
  Take $A \Eq x \SETunion \SETsingleton{x}$.
  Every $F \Elem \ORDfunspace{A}$ is a map from some ordinal to $A$.
  For any $F \Elem \ORDfunspace{A}$ if $x \SETdiff \FUNrange(F) \NotEq \SETempty$ then $x \SETdiff \FUNrange(F) \Elem \Dom(g)$.
  Indeed\linebreak $x \SETdiff \FUNrange(F)$ is a subset of $x$ for any $F \Elem \ORDfunspace{A}$.
  Define \[ G(F) =
    \begin{cases}
      g(x \SETdiff \FUNrange(F))
      & : x \SETdiff \FUNrange(F) \NotEq \SETempty
      \\
      x
      & : x \SETdiff \FUNrange(F) \Eq \SETempty
    \end{cases} \]
  for $F \Elem \ORDfunspace{A}$.
  We can show that for any $F \Elem \ORDfunspace{A}$ if $x \SETdiff \FUNrange(F) \NotEq \SETempty$ then $G(F) \Elem x \SETdiff \FUNrange(F)$.
    Let $F \Elem \ORDfunspace{A}$.
    Assume $x \SETdiff \FUNrange(F) \NotEq \SETempty$.  
    Then $G(F) \Elem x \SETdiff \FUNrange(F)$.
  End.
  $G$ is a map from $\ORDfunspace{A}$ to $A$.
  Indeed we can show that for any $F \Elem \ORDfunspace{A}$ we have $G(F) \Elem A$.
    Let $F \Elem \ORDfunspace{A}$.
    If $x \SETdiff \FUNrange(F) \NotEq \SETempty$ then\linebreak $G(F) \Elem x \SETdiff \FUNrange(F)$.
    If $x \SETdiff \FUNrange(F) \Eq \SETempty$ then $G(F) \Eq x$.
    Hence $G(F) \Elem A$.
  End.
  Hence we can take a map $F$ from $\Ord$ to $A$ that is recursive regarding $G$.
  For any ordinal $\alpha$ we have $F \FUNrest \alpha \Elem \ORDfunspace{A}$.

  For any $\alpha \Elem \Ord$ we have
  \[ x \SETdiff \FUNim{F}{\alpha} \NotEq \SETempty \Implies F(\alpha) \Elem x \SETdiff \FUNim{F}{\alpha} \]
  and
  \[ x \SETdiff \FUNim{F}{\alpha} \Eq \SETempty \Implies F(\alpha) \Eq x. \]
  \begin{proof}
    Let $\alpha \Elem \Ord$.
    We have $\FUNim{F}{\alpha} \Eq \CClass{F(\beta)}{\beta \Elem \alpha}$.
    Hence $\FUNim{F}{\alpha} \Eq \CClass{G(F \FUNrest \beta)}{\beta \Elem \alpha}$.
    We have $\FUNrange(F \FUNrest \alpha) \Eq \CClass{F(\beta)}{\beta \Elem \alpha}$.
    Thus\linebreak $\FUNrange(F \FUNrest \alpha) \Eq \FUNim{F}{\alpha}$.

    \begin{case}{$x \SETdiff \FUNim{F}{\alpha} \NotEq \SETempty$.}
      Then $x \SETdiff \FUNrange(F \FUNrest \alpha) \NotEq \SETempty$.
      Hence $F(\alpha)
        \Eq G(F \FUNrest \alpha)
        \Elem\linebreak x \SETdiff \FUNrange(F \FUNrest \alpha)
        \Eq x \SETdiff \FUNim{F}{\alpha}$.
    \end{case}

    \begin{case}{$x \SETdiff \FUNim{F}{\alpha} \NotEq \SETempty$.}
      Then $x \SETdiff \FUNrange(F \FUNrest \alpha) \Eq \SETempty$.
      Hence $F(\alpha)
        \Eq G(F \FUNrest \alpha)
        \Eq\linebreak x$.
    \end{case}
  \end{proof}

  (1) For any ordinals $\alpha, \beta$ such that $\alpha \ORDless \beta$ and $F(\beta) \NotEq x$ we have $F(\alpha),\linebreak F(\beta) \Elem x$ and $F(\alpha) \NotEq F(\beta)$.
  \begin{proof}
    Let $\alpha, \beta \Elem \Ord$.
    Assume $\alpha \ORDless \beta$ and $F(\beta) \NotEq x$.
    Then $x \SETdiff \FUNim{F}{\beta} \NotEq \SETempty$.
    (a) Hence $F(\beta) \Elem x \SETdiff \FUNim{F}{\beta}$.
    We have $\FUNim{F}{\alpha} \SETinclude \FUNim{F}{\beta}$.
    Thus $x \SETdiff \FUNim{F}{\alpha} \NotEq \SETempty$.
    (b) Therefore $F(\alpha) \Elem x \SETdiff \FUNim{F}{\alpha}$.
    Consequently $F(\alpha), F(\beta) \Elem x$ (by a, b).
    We have $F(\alpha) \Elem \FUNim{F}{\beta}$ and $F(\beta) \NotElem \FUNim{F}{\beta}$.
    Thus $F(\alpha) \NotEq F(\beta)$.
  \end{proof}

  (2) There exists an ordinal $\alpha$ such that $F(\alpha) \Eq x$.
  \begin{proof}
    Assume the contrary.
    Then $F$ is a map from $\Ord$ to $x$.

    Let us show that $F$ is injective.
      Let $\alpha, \beta \Elem \Ord$.
      Assume $\alpha \NotEq \beta$.
      Then $\alpha \ORDless \beta$ or $\beta \ORDless \alpha$.
      Hence $F(\alpha) \NotEq F(\beta)$ (by 1).
      Indeed $F(\alpha), F(\beta) \NotEq x$.
    End.

    Thus $F$ is an injective map from some proper class to some set.
    Contradiction.
  \end{proof}

  Define $\Phi \DefEq \SClass{\alpha}{\Ord}{F(\alpha) \Eq x}$.
  $\Phi$ is nonempty.
  Let us show that we can take an $\alpha \Elem \Phi$ such that $\alpha \ORDleq \beta$ for all $\beta \Elem \Phi$.
    Take an $\alpha \Elem \Phi$ such that for no $\beta \Elem \Phi$ we have $\beta \ORDless \alpha$ (by \sn{wellfoundedness of membership relation}).
    Then $\alpha \ORDleq \beta$ for all $\beta \Elem \Phi$.
  End.
  Take $f \Eq F \FUNrest \alpha$.
  Then $f$ is a map from $\alpha$ to $x$.
  Indeed for no $\beta \Elem \alpha$ we have $F(\beta) \Eq x$.

  (3) $f$ is surjective onto $x$.
  \begin{proof}
    $x \SETdiff \FUNim{F}{\alpha} \Eq \SETempty$.
    Hence $\FUNrange(f)
      \Eq \FUNim{f}{\alpha}
      \Eq \FUNim{F}{\alpha}
      \Eq x$.
  \end{proof}

  (4) $f$ is injective.
  \begin{proof}
    Let $\beta, \gamma \Elem \alpha$.
    Assume $\beta \NotEq \gamma$.
    We have $f(\beta), f(\gamma) \NotEq x$.
    Hence $f(\beta) \NotEq f(\gamma)$ (by 1).
    Indeed $\beta \ORDless \gamma$ or $\gamma \ORDless \beta$.
  \end{proof}

  Therefore $f$ is a bijection between $\alpha$ and $x$.
  Consequently $x$ and $\alpha$ are equinumerous.
\end{proof}

\printbibliography
\printlicense[CcByNcSa]{Marcel Schütz (2024--2025)}
\end{smodule}
\end{document}
