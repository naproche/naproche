\libinput[libraries/arithmetics]{preamble}
\libinput[libraries/foundations]{preamble}
\libinput[libraries/lists]{preamble}
\libinput[libraries/set-theory]{preamble}

\libinput[latex]{license}

\usepackage[backend=bibtex]{biblatex}
\addmhbibresource[latex]{bibliography}

\usepackage{xurl} % Must be loaded after biblatex!

\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  urlcolor=blue
}

\RequirePackage{stex-highlighting}
\newbool{emph}
\setbool{emph}{false}
\colorlet{emphcolor}{violet}
\let\oldemph\emph
\renewcommand\emph[1]{\setbool{emph}{true}\ifbool{forthel}{\textcolor{emphcolor}{\ifmmode#1\else\itshape#1\fi}}{\oldemph{#1}}\setbool{emph}{false}}
\renewcommand\varemph[1]{\ifbool{emph}{\textcolor{emphcolor}{#1}}{\textcolor{teal}{#1}}}
\renewcommand\compemph[1]{\ifbool{emph}{\textcolor{emphcolor}{#1}}{\textcolor{teal}{#1}}}