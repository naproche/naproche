\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{subtraction.ftl}
\importmodule[libraries/arithmetics]{ordering.ftl}
\symdef{NATsub}{\,-\,}

\begin{definition}[forthel]
  Let $n, m$ be natural numbers such that $n \NATgeq m$.
  $\emph{n \NATsub m}$ is the natural number $k$ such that $n \Eq m \NATplus k$.
  Let the \emph{difference of $n$ and $m$} stand for $n \NATsub m$.
\end{definition}

\begin{proposition}[forthel]
  Let $n, m$ be natural numbers such that $n \NATgeq m$.
  Then $n \NATsub m \Eq \NATzero$ iff $n \Eq m$.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{$n \NATsub m \Eq \NATzero$.}
    Then $n
      \Eq (n \NATsub m) \NATplus m
      \Eq \NATzero \NATplus m
      \Eq m$.
  \end{case}

  \begin{case}{$n \Eq m$.}
    We have $(n \NATsub m) \NATplus m
      \Eq n
      \Eq m
      \Eq \NATzero \NATplus m$.
    Hence $n \NATsub m \Eq \NATzero$.
  \end{case}
\end{proof}

\begin{corollary}[forthel]
  Let $n$ be a natural number.
  Then $n \NATsub n \Eq \NATzero$.
\end{corollary}

\begin{proposition}[forthel]
  Let $n$ be a natural number.
  Then $n \NATsub \NATzero \Eq n$.
\end{proposition}
\begin{proof}[forthel]
  We have $n
    \Eq (n \NATsub \NATzero) \NATplus \NATzero
    \Eq n \NATsub \NATzero$.
\end{proof}

\begin{proposition}[forthel]
  Let $n, m$ be natural numbers such that $n \NATgeq m$.
  Then $n \NATsub m \NATleq n$.
\end{proposition}
\begin{proof}[forthel]
  We have $(n \NATsub m) \NATplus m \Eq n$.
  Hence $n \NATsub m \NATleq n$.
\end{proof}

\begin{proposition}[forthel]
  Let $n, m$ be natural numbers such that $n \NATgeq m$.
  If $\NATzero \NotEq m \NATless n$ then $n \NATsub m \NATless n$.
\end{proposition}
\begin{proof}[forthel]
  Assume $\NATzero \NotEq m \NATless n$.
  Suppose $n \NATsub m \NATgeq n$.
  We have $(n \NATsub m) \NATplus m \Eq n$.
  Then $n \NATplus m
    \Eq (n \NATsub m) \NATplus m
    \Eq n
    \Eq n \NATplus \NATzero$.
  Hence $m \Eq \NATzero$.
  Contradiction.
\end{proof}

\begin{proposition}[forthel]
  Let $n, m, k$ be natural numbers such that $n \NATgeq m$.
  Then $(n \NATsub m) \NATplus k \Eq (n \NATplus k) \NATsub m$.
\end{proposition}
\begin{proof}[forthel]
  We have
  \[  ((n \NATsub m) \NATplus k) \NATplus m       \]
  \[    \Eq ((n \NATsub m) \NATplus m) \NATplus k   \]
  \[    \Eq n \NATplus k               \]
  \[    \Eq ((n \NATplus k) \NATsub m) \NATplus m.  \]

  Hence $(n \NATsub m) \NATplus k \Eq (n \NATplus k) \NATsub m$.
\end{proof}

\symdecl*{associativity of addition and subtraction}

\begin{corollary}[forthel,name=associativity of addition and subtraction]
  Let $n, m, k$ be natural numbers such that $n \NATgeq m$.
  Then $k \NATplus (n \NATsub m) \Eq (k \NATplus n) \NATsub m$.
\end{corollary}

\begin{proposition}[forthel]
  Let $n, m, k$ be natural numbers such that $n \NATgeq  m \NATplus k$.
  Then $(n \NATsub m) \NATsub k \Eq n \NATsub (m \NATplus k)$.
\end{proposition}
\begin{proof}[forthel]
  We have
  \[  ((n \NATsub m) \NATsub k) \NATplus (m \NATplus k)       \]
  \[    \Eq (((n \NATsub m) \NATsub k) \NATplus k) \NATplus m   \]
  \[    \Eq (n \NATsub m) \NATplus m               \]
  \[    \Eq n                         \]
  \[    \Eq (n \NATsub (m \NATplus k)) \NATplus (m \NATplus k).  \]

  Hence $(n \NATsub m) \NATsub k \Eq n \NATsub (m \NATplus k)$.
\end{proof}
\end{smodule}
\end{document}
