\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{divisibility.ftl}
\importmodule[libraries/arithmetics]{multiplication-and-ordering.ftl}
\symdef{NATmid}{\,\mid\,}
\symdef{NATnmid}{\,\nmid\,}

\begin{definition}[forthel,id=ARITHMETIC_07_4239998993825792]
  Let $n, m$ be natural numbers.
  $\emph{n \NATmid m}$ iff there exists a natural number $k$ such that $n \NATmul k \Eq m$.

  Let $m$ is \emph{divisible by $n$} stand for $n \NATmid m$.
  Let $n$ \emph{divides $m$} stand for $n \NATmid m$.
  Let $\emph{n \NATnmid m}$ stand for not $n \NATmid m$.
\end{definition}

\begin{lemma}[forthel,id=ARITHMETIC_07_1478855118290944]
  Let $n, m$ be natural numbers.
  $n$ divides $m$ iff there exists a natural number $k$ such that $k \NATmul n \Eq m$.
\end{lemma}

\begin{definition}[forthel,id=ARITHMETIC_07_1311437490225152]
  Let $n$ be a natural number.
  A \emph{factor of $n$} is a natural number that divides $n$.

  Let a \emph{divisor of $n$} stand for a factor of $n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_5438991513944064]
  Let $n$ be a natural number.
  A \emph{trivial divisor of $n$} is a divisor $m$ of $n$ such that $m \Eq \NATone$ or $m \Eq n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_8768240253665280]
  Let $n$ be a natural number.
  A \emph{nontrivial divisor of $n$} is a divisor $m$ of $n$ such that $m \NotEq \NATone$ and $m \NotEq n$.
\end{definition}

\begin{definition}[forthel,id=ARITHMETIC_10_8020087063707648]
  Let $n$ be a natural number.
  $n$ is \emph{composite} iff $n \NATgtr \NATone$ and $n$ has a nontrivial divisor.
\end{definition}

\begin{proposition}[forthel,id=ARITHMETIC_07_2242720387039232]
  Let $n$ be a natural number.
  Then $n \NATmid \NATzero$.
\end{proposition}
\begin{proof}[forthel]
  We have $n \NATmul \NATzero \Eq \NATzero$.
  Hence $n \NATmid \NATzero$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_8611150130315264]
  Let $n$ be a natural number.
  If $\NATzero \NATmid n$ then $n \Eq \NATzero$.
\end{proposition}
\begin{proof}[forthel]
  Assume $\NATzero \NATmid n$.
  Consider a natural number $k$ such that $\NATzero \NATmul k \Eq n$.
  Then $n \Eq \NATzero$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1259086070939648]
  Let $n$ be a natural number.
  Then $\NATone \NATmid n$.
\end{proposition}
\begin{proof}[forthel]
  We have $\NATone \NATmul n \Eq n$.
  Hence $\NATone \NATmid n$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_3944887330275328]
  Let $n$ be a natural number.
  Then $n \NATmid n$.
\end{proposition}
\begin{proof}[forthel]
  We have $n \NATmul \NATone \Eq n$.
  Hence $n \NATmid n$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_6917446193643520]
  Let $n$ be a natural number.
  If $n \NATmid \NATone$ then $n \Eq \NATone$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid \NATone$.
  Take a natural number $k$ such that $n \NATmul k \Eq \NATone$.
  Suppose $n \NotEq \NATone$.
  Then $n \NATless \NATone$ or $n \NATgtr \NATone$.

  \begin{case}{$n \NATless \NATone$.}
    Then $n \Eq \NATzero$.
    Hence $\NATzero
      \Eq \NATzero \NATmul k
      \Eq n \NATmul k
      \Eq \NATone$.
    Contradiction.
  \end{case}

  \begin{case}{$n \NATgtr \NATone$.}
    We have $k \NotEq \NATzero$.
    Indeed if $k \Eq \NATzero$ then
    $\NATone
      \Eq n \NATmul k
      \Eq n \NATmul \NATzero
      \Eq \NATzero$.
    Hence $k \NATgeq \NATone$.
    Take a positive natural number $l$ such that $n \Eq \NATone \NATplus l$.
    Then $\NATone
      \NATless \NATone \NATplus l
      \Eq n
      \Eq n \NATmul \NATone
      \NATleq n \NATmul k$.
    Hence $\NATone \NATless n$.
    Contradiction.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_7463519983239168]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $n \NATmid m \NATmul k$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$.
  Take $l \Elem \Nat$ such that $n \NATmul l \Eq m$.
  Then $n \NATmul (l \NATmul k)
    \Eq (n \NATmul l) \NATmul k
    \Eq m \NATmul k$.
  Hence $n \NATmid m \NATmul k$.
\end{proof}

\begin{corollary}[forthel,id=ARITHMETIC_07_1588185794609152]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $n \NATmid k \NATmul m$.
\end{corollary}

\begin{proposition}[forthel,id=ARITHMETIC_07_7863858316181504]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m \NATmid k$ then $n \NATmid k$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$ and $m \NATmid k$.
  Take natural numbers $l,l'$ such that $n \NATmul l \Eq m$ and $m \NATmul l' \Eq k$.
  Then $n \NATmul (l \NATmul l')
    \Eq (n \NATmul l) \NATmul l'
    \Eq m \NATmul l'
    \Eq k$.
  Hence $n \NATmid k$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_4933275640397824]
  Let $n, m$ be natural numbers such that $n \NotEq \NATzero$.
  If $n \NATmid m$ and $m \NATmid n$ then $n \Eq m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$ and $m \NATmid n$.
  Take natural numbers $k,k'$ such that $n \NATmul k \Eq m$ and $m \NATmul k' \Eq n$.
  Then $n
    \Eq m \NATmul k'
    \Eq (n \NATmul k) \NATmul k'
    \Eq n \NATmul (k \NATmul k')$.
  Hence $k \NATmul k' \Eq \NATone$.
  Thus $k \Eq \NATone \Eq k'$.
  Therefore $n \Eq m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1283495225720832]
  Let $n, m, k$ be natural numbers.
  If $n \NATmid m$ then $k \NATmul n \NATmid k \NATmul m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $n \NATmid m$.
  Take a natural number $l$ such that $n \NATmul l \Eq m$.
  Then $(k \NATmul n) \NATmul l
    \Eq k \NATmul (n \NATmul l)
    \Eq k \NATmul m$.
  Hence $k \NATmul n \NATmid k \NATmul m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_6469492028735488]
  Let $n, m, k$ be natural numbers.
  Assume $k \NotEq \NATzero$.
  If $k \NATmul n \NATmid k \NATmul m$ then $n \NATmid m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmul n \NATmid k \NATmul m$.
  Take a natural number $l$ such that $(k \NATmul n) \NATmul l \Eq k \NATmul m$.
  Then $k \NATmul (n \NATmul l) \Eq k \NATmul m$.
  Hence $n \NATmul l \Eq m$ (by \printref{ARITHMETIC_06_8575191374364672}).
  Thus $n \NATmid m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_4700711333920768]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid m$ then $k \NATmid (n' \NATmul n) \NATplus (m' \NATmul m)$
  for all natural numbers $n', m'$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid m$.
  Let $n', m'$ be natural numbers.
  Take natural numbers $l,l'$ such that $k \NATmul l \Eq n$ and $k \NATmul l' \Eq m$.
  Then
  \[  k \NATmul ((n' \NATmul l) \NATplus (m' \NATmul l'))                \]
  \[    \Eq (k \NATmul (n' \NATmul l)) \NATplus (k \NATmul (m' \NATmul l'))  \]
  \[    \Eq ((k \NATmul n') \NATmul l) \NATplus ((k \NATmul m') \NATmul l')  \]
  \[    \Eq (n' \NATmul (k \NATmul l)) \NATplus (m' \NATmul (k \NATmul l'))  \]
  \[    \Eq (n' \NATmul n) \NATplus (m' \NATmul m).                      \]
\end{proof}

\begin{corollary}[forthel,id=ARITHMETIC_07_1556786209357824]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid m$ then $k \NATmid n \NATplus m$.
\end{corollary}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid m$.
  Take $n' = \NATone$ and $m' = \NATone$.
  Then $k \NATmid (n' \NATmul n) \NATplus (m' \NATmul m)$.
  $(n' \NATmul n) \NATplus (m' \NATmul m) \Eq n \NATplus m$.
  Hence $k \NATmid n \NATplus m$.
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_1076947887063040]
  Let $n, m, k$ be natural numbers.
  If $k \NATmid n$ and $k \NATmid n \NATplus m$ then $k \NATmid m$.
\end{proposition}
\begin{proof}[forthel]
  Assume $k \NATmid n$ and $k \NATmid n \NATplus m$.

  \begin{case}{$k \Eq \NATzero$.} \end{case}

  \begin{case}{$k \NotEq \NATzero$.}
    Take a natural number $l$ such that $n \Eq k \NATmul l$.
    Take a natural number $l'$ such that $n \NATplus m \Eq k \NATmul l'$.
    Then $(k \NATmul l) \NATplus m \Eq k \NATmul l'$.
    We have $l' \NATgeq l$.
    Indeed if $l' \NATless l$ then
    $n \NATplus m
      \Eq k \NATmul l'
      \NATless k \NATmul l
      \Eq n$ (by \printref{ARITHMETIC_06_5048640368279552}).
    Hence we can take a natural number $l''$ such that $l' \Eq l \NATplus l''$.
    Then $(k \NATmul l) \NATplus m
      \Eq k \NATmul l'
      \Eq k \NATmul (l \NATplus l'')
      \Eq (k \NATmul l) \NATplus (k \NATmul l'')$.
    Indeed $k \NATmul (l \NATplus l'') \Eq (k \NATmul l) \NATplus (k \NATmul l'')$ (by \printref{ARITHMETIC_06_9001524774567936}).
    Thus $m \Eq (k \NATmul l'')$ (by \printref{ARITHMETIC_03_8445946379632640}).
    Indeed $k \NATmul l$ and $k \NATmul l''$ are natural numbers.
    Therefore $k \NATmid m$.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=ARITHMETIC_07_2187144577679360]
  Let $n, m$ be natural numbers such that $n, m \NotEq \NATzero$.
  If $m \NATmid n$ then $m \NATleq n$.
\end{proposition}
\begin{proof}[forthel]
  Assume $m \NATmid n$.
  Take a natural number $k$ such that $m \NATmul k \Eq n$.
  If $k \Eq \NATzero$ then
  $n
    \Eq m \NATmul k
    \Eq m \NATmul \NATzero
    \Eq \NATzero$.
  Thus $k \NATgeq \NATone$.
  Assume $m \NATgtr n$.
  Then $n
    \Eq m \NATmul k
    \NATgeq m \NATmul \NATone
    \Eq m
    \NATgtr n$.
  Hence $n \NATgtr n$.
  Contradiction.
\end{proof}
\end{smodule}
\end{document}
