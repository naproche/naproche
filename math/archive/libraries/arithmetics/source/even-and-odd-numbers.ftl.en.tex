\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{even-and-odd-numbers.ftl}
\importmodule[libraries/arithmetics]{divisibility.ftl}
\importmodule[libraries/arithmetics]{subtraction.ftl}
\symdecl*{even}
\symdecl*{odd}

\begin{sfragment}{Definition}
  \begin{definition}[forthel,for=even]
    Let $n$ be a natural number.
    $n$ is \emph{even} iff $n$ is divisible by $\NATtwo$.
  \end{definition}

  \begin{definition}[forthel,for=odd]
    Let $n$ be a natural number.
    $n$ is \emph{odd} iff $n$ is not divisible by $\NATtwo$.
  \end{definition}

  \begin{proposition}[forthel]
    Let $n$ be a natural number.
    $n$ is even iff $n \Eq \NATtwo \NATmul m$ for some natural number $m$.
  \end{proposition}
  \begin{proof}[forthel]
    \begin{case}{$n$ is even.}
      Then $\NATtwo$ divides $n$.
      Hence $n \Eq \NATtwo \NATmul m$ for some natural number $m$.
    \end{case}

    \begin{case}{$n \Eq \NATtwo \NATmul m$ for some natural number $m$.}
      Then $\NATtwo$ divides $n$.
      Hence $\NATtwo$ is even.
    \end{case}
  \end{proof}

  \begin{proposition}[forthel]
    Let $n$ be a natural number.
    $n$ is odd iff $n \Eq (\NATtwo \NATmul m) \NATplus \NATone$ for some natural number $m$.
  \end{proposition}
  \begin{proof}[forthel]
    \begin{case}{$n$ is odd.}
      (a) Define $\Phi = \SClass{n'}{\Nat}{\text{ if }n'\text{ is odd then }n' \Eq (\NATtwo \NATmul m) \NATplus \NATone\text{ for some natural number }m}$.

      (1) $\Phi$ contains $\NATzero$.
      Indeed $\NATzero$ is not odd.

      (2) For all $n' \Elem \Phi$ we have $n' \NATplus \NATone \Elem \Phi$. 
      \begin{proof}
        Let $n' \Elem \Phi$.

        Let us show that if $n' \NATplus  \NATone$ is odd then $(n' \NATplus  \NATone) \Eq (\NATtwo \NATmul m) \NATplus  \NATone$ for some natural number $m$.
          Assume that $n' \NATplus  \NATone$ is odd.

          \begin{case}{$n'$ is even.}
            Take a natural number $m$ such that $n' \Eq \NATtwo \NATmul m$.
            Then $n' \NATplus \NATone \Eq (\NATtwo \NATmul m) \NATplus  \NATone$.
          \end{case}

          \begin{case}{$n'$ is odd.}
            Take a natural number $m$ such that $n' \Eq (\NATtwo \NATmul m) \NATplus  \NATone$.
            Then $n' \NATplus  \NATone
              \Eq ((\NATtwo \NATmul m) \NATplus  \NATone) \NATplus  \NATone
              \Eq (\NATtwo \NATmul m) \NATplus (\NATone \NATplus  \NATone)
              \Eq (\NATtwo \NATmul m) \NATplus \NATtwo
              \Eq \NATtwo \NATmul (m \NATplus  \NATone)$.
            Hence $\NATtwo$ divides $n'$.
            Thus $n'$ is even.
            Contradiction.
          \end{case}
        End.
      \end{proof}

      Then $\Phi$ contains every natural number (by \sr{induction I}{induction}).
      Hence $n$ is odd iff $n \Eq (\NATtwo \NATmul m) \NATplus  \NATone$ for some natural number $m$ (by a).
    \end{case}

    \begin{case}{$n \Eq (\NATtwo \NATmul m) \NATplus  \NATone$ for some natural number $m$.}
      Consider a natural number $m$ such that $n \Eq (\NATtwo \NATmul m) \NATplus  \NATone$.
      Assume that $n$ is even.
      Then we can take a natural number $k$ such that $n \Eq \NATtwo \NATmul k$.
      Then we have $\NATtwo \NATmul k \Eq (\NATtwo \NATmul m) \NATplus  \NATone$.
      Hence $\NATtwo$ divides $(\NATtwo \NATmul m) \NATplus  \NATone$.
      Thus $\NATtwo$ divides $ \NATone$.
      Indeed $\NATtwo$ divides $\NATtwo \NATmul m$.
      Contradiction.
    \end{case}
  \end{proof}

  \begin{proposition}[forthel]
    Let $n$ be a natural number.
    $n$ is odd iff $n \Eq (\NATtwo \NATmul m) \NATsub  \NATone$ for some positive natural number $m$.
  \end{proposition}
  \begin{proof}[forthel]
    \begin{case}{$n$ is odd.}
      Consider a natural number $k$ such that $n \Eq (\NATtwo \NATmul k) \NATplus  \NATone$.
      Take $m \Eq k \NATplus \NATone$.
      Then $n
        \Eq (\NATtwo \NATmul k) \NATplus  \NATone
        \Eq (\NATtwo \NATmul (k \NATplus \NATzero)) \NATplus  \NATone
        \Eq (\NATtwo \NATmul (k \NATplus (\NATone \NATsub  \NATone))) \NATplus  \NATone
        \Eq (\NATtwo \NATmul ((k \NATplus  \NATone) \NATsub  \NATone)) \NATplus  \NATone
        \Eq (\NATtwo \NATmul (m \NATsub  \NATone)) \NATplus  \NATone
        \Eq ((\NATtwo \NATmul m) \NATsub (\NATtwo \NATmul  \NATone)) \NATplus  \NATone
        \Eq ((\NATtwo \NATmul m) \NATsub \NATtwo) \NATplus  \NATone
        \Eq (\NATtwo \NATmul m) \NATsub  \NATone$.
    \end{case}

    \begin{case}{$n \Eq (\NATtwo \NATmul m) \NATsub  \NATone$ for some positive natural number $m$.}
      Consider a positive natural number $m$ such that $n \Eq (\NATtwo \NATmul m) \NATsub  \NATone$.
      Take $k \Eq m \NATsub  \NATone$.
      Then $n
        \Eq (\NATtwo \NATmul m) \NATsub  \NATone
        \Eq (\NATtwo \NATmul (m \NATplus \NATzero)) \NATsub  \NATone
        \Eq (\NATtwo \NATmul (m \NATplus (\NATone \NATsub  \NATone))) \NATsub  \NATone
        \Eq (\NATtwo \NATmul ((m \NATplus  \NATone) \NATsub  \NATone)) \NATsub  \NATone
        \Eq (\NATtwo \NATmul ((m \NATsub  \NATone) \NATplus  \NATone)) \NATsub  \NATone
        \Eq (\NATtwo \NATmul (k \NATplus  \NATone)) \NATsub  \NATone
        \Eq ((\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul  \NATone)) \NATsub  \NATone
        \Eq ((\NATtwo \NATmul k) \NATplus \NATtwo) \NATsub  \NATone
        \Eq (\NATtwo \NATmul k) \NATplus (\NATtwo \NATsub  \NATone)
        \Eq (\NATtwo \NATmul k) \NATplus  \NATone$.
      Hence $n$ is odd.
    \end{case}
  \end{proof}
\end{sfragment}

\begin{sfragment}{Addition of Even and Odd Numbers}
  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ and $m$ are even.
    Then $n \NATplus m$ is even.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq \NATtwo \NATmul k$ and $m \Eq \NATtwo \NATmul l$.
    Then $n \NATplus m
      \Eq (\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul l)
      \Eq \NATtwo \NATmul (k \NATplus l)$.
    Hence $n \NATplus m$ is even.
  \end{proof}

  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ is even and $m$ is odd.
    Then $n \NATplus m$ is odd.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq \NATtwo \NATmul k$ and $m \Eq (\NATtwo \NATmul l) \NATplus  \NATone$.
    Then $n \NATplus m
      \Eq (\NATtwo \NATmul k) \NATplus ((\NATtwo \NATmul l) \NATplus  \NATone)
      \Eq ((\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul l)) \NATplus  \NATone
      \Eq (\NATtwo \NATmul (k \NATplus l)) \NATplus  \NATone$.
    Hence $n \NATplus m$ is odd.
  \end{proof}

  \begin{corollary}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ is odd and $m$ is even.
    Then $n \NATplus m$ is odd.
  \end{corollary}

  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ and $m$ are odd.
    Then $n \NATplus m$ is even.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq (\NATtwo \NATmul k) \NATplus  \NATone$ and $m \Eq (\NATtwo \NATmul l) \NATplus  \NATone$.
    Then $n \NATplus m
      \Eq ((\NATtwo \NATmul k) \NATplus  \NATone) \NATplus ((\NATtwo \NATmul l) \NATplus  \NATone)
      \Eq (((\NATtwo \NATmul k) \NATplus  \NATone) \NATplus (\NATtwo \NATmul l)) \NATplus  \NATone
      \Eq ((\NATtwo \NATmul k) \NATplus (\NATone \NATplus (\NATtwo \NATmul l))) \NATplus  \NATone
      \Eq ((\NATtwo \NATmul k) \NATplus ((\NATtwo \NATmul l) \NATplus  \NATone)) \NATplus  \NATone
      \Eq (((\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul l)) \NATplus  \NATone) \NATplus  \NATone
      \Eq ((\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul l)) \NATplus (\NATone \NATplus  \NATone)
      \Eq ((\NATtwo \NATmul k) \NATplus (\NATtwo \NATmul l)) \NATplus \NATtwo
      \Eq (\NATtwo \NATmul (k \NATplus l)) \NATplus \NATtwo
      \Eq \NATtwo \NATmul ((k \NATplus l) \NATplus  \NATone)$.
      Hence $n \NATplus m$ is even.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Subtraction of even and odd numbers}
  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers such that $n \NATgeq m$.
    Assume that $n, m$ are even.
    Then $n \NATsub m$ is even.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq \NATtwo \NATmul k$ and $m \Eq \NATtwo \NATmul l$.
    Then $k \NATgeq l$.
    Hence $n \NATsub m
      \Eq (\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l)
      \Eq \NATtwo \NATmul (k \NATsub l)$.
    Thus $n \NATsub m$ is even.
  \end{proof}

  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers such that $n \NATgeq m$.
    Assume that $n$ is even and $m$ is odd.
    Then $n \NATsub m$ is odd.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq \NATtwo \NATmul k$ and $m \Eq (\NATtwo \NATmul l) \NATplus  \NATone$.
    Then $k \NATgeq l$ and $\NATtwo \NATmul (k \NATsub l) \NATgeq  \NATone$.
    Hence $n \NATsub m
      \Eq (\NATtwo \NATmul k) \NATsub ((\NATtwo \NATmul l) \NATplus  \NATone)
      \Eq ((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l)) \NATsub  \NATone
      \Eq (\NATtwo \NATmul (k \NATsub l)) \NATsub  \NATone$.
    Thus $n \NATsub m$ is odd.
  \end{proof}

  \begin{corollary}[forthel]
    Let $n, m$ be natural numbers such that $n \NATgeq m$.
    Assume that $n$ is odd and $m$ is even.
    Then $n \NATsub m$ is odd.
  \end{corollary}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq (\NATtwo \NATmul k) \NATplus  \NATone$ and $m \Eq \NATtwo \NATmul l$.
    Then $k \NATgeq l$.
    Hence $n \NATsub m
      \Eq ((\NATtwo \NATmul k) \NATplus  \NATone) \NATsub (\NATtwo \NATmul l)
      \Eq (\NATone \NATplus (\NATtwo \NATmul k)) \NATsub (\NATtwo \NATmul l)
      \Eq \NATone \NATplus ((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l))
      \Eq ((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l)) \NATplus  \NATone
      \Eq (\NATtwo \NATmul (k \NATsub l)) \NATplus  \NATone$.
    Indeed $((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l)) \Eq \NATtwo \NATmul (k \NATsub l)$. %!
    Thus $n \NATsub m$ is odd.
  \end{proof}

  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers such that $n \NATgeq m$.
    Assume that $n, m$ are odd.
    Then $n \NATsub m$ is even.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq (\NATtwo \NATmul k) \NATplus  \NATone$ and $m \Eq (\NATtwo \NATmul l) \NATplus  \NATone$.
    Then $k \NATgeq l$.
    Indeed $\NATtwo \NATmul k \NATgeq \NATtwo \NATmul l$.
    Hence $\NATone \NATplus (\NATtwo \NATmul k) \NATgeq \NATtwo \NATmul l$.
    Thus $n \NATsub m
      \Eq ((\NATtwo \NATmul k) \NATplus  \NATone) \NATsub ((\NATtwo \NATmul l) \NATplus  \NATone)
      \Eq ((\NATone \NATplus (\NATtwo \NATmul k)) \NATsub (\NATtwo \NATmul l)) \NATsub  \NATone
      \Eq (\NATone \NATplus ((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l))) \NATsub  \NATone
      \Eq (\NATone \NATplus (\NATtwo \NATmul (k \NATsub l))) \NATsub  \NATone
      \Eq ((\NATtwo \NATmul (k \NATsub l)) \NATplus  \NATone) \NATsub  \NATone
      \Eq \NATtwo \NATmul (k \NATsub l)$.
    Indeed $((\NATtwo \NATmul k) \NATsub (\NATtwo \NATmul l)) \Eq \NATtwo \NATmul (k \NATsub l)$. %!
    Therefore $n \NATsub m$ is even.
  \end{proof}
\end{sfragment}

\begin{sfragment}{Multiplication of Even and Odd Numbers}
  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ is even or $n$ is even.
    Then $n \NATmul m$ is even.
  \end{proposition}
  \begin{proof}[forthel]
    \begin{case}{$n$ is even.}
      Take a natural number $k$ such that $n \Eq \NATtwo \NATmul k$.
      Then $n \NATmul m
        \Eq (\NATtwo \NATmul k) \NATmul m
        \Eq \NATtwo \NATmul (k \NATmul m)$.
      Hence $n \NATmul m$ is even.
    \end{case}

    \begin{case}{$m$ is even.}
      Take a natural number $l$ such that $m \Eq \NATtwo \NATmul l$.
      Then $n \NATmul m
        \Eq n \NATmul (\NATtwo \NATmul l)
        \Eq (n \NATmul \NATtwo) \NATmul l
        \Eq (\NATtwo \NATmul n) \NATmul l
        \Eq \NATtwo \NATmul (n \NATmul l)$.
      Hence $n \NATmul m$ is even.
    \end{case}
  \end{proof}

  \begin{proposition}[forthel]
    Let $n, m$ be natural numbers.
    Assume that $n$ and $m$ are odd.
    Then $n \NATmul m$ is odd.
  \end{proposition}
  \begin{proof}[forthel]
    Take natural numbers $k, l$ such that $n \Eq (\NATtwo \NATmul k) \NATplus  \NATone$ and $m \Eq (\NATtwo \NATmul l) \NATplus  \NATone$.
    Then $n \NATmul m
      \Eq ((\NATtwo \NATmul k) \NATplus  \NATone) \NATmul m
      \Eq ((\NATtwo \NATmul k) \NATmul m) \NATplus (\NATone \NATmul m)
      \Eq ((\NATtwo \NATmul k) \NATmul m) \NATplus m
      \Eq (\NATtwo \NATmul (k \NATmul m)) \NATplus m$.
    $\NATtwo \NATmul (k \NATmul m)$ is even and $m$ is odd.
    Hence $(\NATtwo \NATmul (k \NATmul m)) \NATplus m$ is odd.
    Therefore $n \NATmul m$ is odd.
  \end{proof}
\end{sfragment}
\end{smodule}
\end{document}