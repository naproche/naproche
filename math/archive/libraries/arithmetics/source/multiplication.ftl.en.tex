\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{multiplication.ftl}
\importmodule[libraries/arithmetics]{natural-numbers.ftl}
\symdef{NATmul}{\,\cdot\,}

\begin{sfragment}{Definition}
  \begin{signature}[forthel]
    Let $n, m$ be natural numbers.
    $\emph{n \NATmul m}$ is a natural number.
    Let the \emph{product of $n$ and $m$} stand for $n \NATmul m$.
  \end{signature}

  \begin{axiom}[forthel]
    Let $n$ be a natural number.
    Then $n \NATmul \NATzero \Eq \NATzero$.
  \end{axiom}

  \begin{axiom}[forthel]
    Let $n, m$ be natural numbers.
    Then $n \NATmul (m \NATplus \NATone) \Eq (n \NATmul m) \NATplus n$.
  \end{axiom}
\end{sfragment}

\begin{sfragment}{Computation Laws}
  \begin{sfragment}{Distributivity}

    \symdecl*{left-distributivity of multiplication over addition}

    \begin{proposition}[forthel,name=left-distributivity of multiplication over addition]
      Let $n, m, k$ be natural numbers.
      Then $n \NATmul (m \NATplus k) \Eq (n \NATmul m) \NATplus (n \NATmul k)$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \SClass{k'}{\Nat}{n \NATmul (m \NATplus k') \Eq (n \NATmul m) \NATplus (n \NATmul k')}$.

      (1) $\NATzero$ is an element of $\Phi$.
      Indeed $n \NATmul (m \NATplus \NATzero)
        \Eq n \NATmul m
        \Eq (n \NATmul m) \NATplus \NATzero
        \Eq (n \NATmul m) \NATplus (n \NATmul \NATzero)$.

      (2) For all $k' \Elem \Phi$ we have $k' \NATplus \NATone \Elem \Phi$. 
      \begin{proof}
        Let $k'\Elem \Phi$.
        Then
        \[  n \NATmul (m \NATplus (k' \NATplus \NATone))                  \]
        \[    \Eq n \NATmul ((m \NATplus k') \NATplus \NATone)              \]
        \[    \Eq (n \NATmul (m \NATplus k')) \NATplus n              \]
        \[    \Eq ((n \NATmul m) \NATplus (n \NATmul k')) \NATplus n    \]
        \[    \Eq (n \NATmul m) \NATplus ((n \NATmul k') \NATplus n)    \]
        \[    \Eq (n \NATmul m) \NATplus (n \NATmul (k' \NATplus \NATone)).   \]
        Hence $n \NATmul (m \NATplus (k' \NATplus \NATone)) \Eq (n \NATmul m) \NATplus (n \NATmul (k' \NATplus \NATone))$.
        Thus $k' \NATplus \NATone \Elem \Phi$.
      \end{proof}

      Thus every natural number is contained in $\Phi$.
      Therefore $n \NATmul (m \NATplus k) \Eq (n \NATmul m) \NATplus (n \NATmul k)$.
    \end{proof}

    \begin{proposition}[forthel]
      Let $n, m, k$ be natural numbers.
      Then $(n \NATplus m) \NATmul k \Eq (n \NATmul k) \NATplus (m \NATmul k)$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \SClass{k'}{\Nat}{(n \NATplus m) \NATmul k' \Eq (n \NATmul k') \NATplus (m \NATmul k')}$.

      (1) $\NATzero$ belongs to $\Phi$.
      Indeed $((n \NATplus m) \NATmul \NATzero)
        \Eq \NATzero
        \Eq \NATzero \NATplus \NATzero
        \Eq (n \NATmul \NATzero) \NATplus (m \NATmul \NATzero)$.

      (2) For all $k' \Elem \Phi$ we have $k' \NATplus \NATone \Elem \Phi$.
      \begin{proof}
        Let $k' \Elem \Phi$.
        Then
        \[  (n \NATplus m) \NATmul (k' \NATplus \NATone)                        \]
        \[    \Eq ((n \NATplus m) \NATmul k') \NATplus (n \NATplus m)              \]
        \[    \Eq ((n \NATmul k') \NATplus (m \NATmul k')) \NATplus (n \NATplus m)   \]
        \[    \Eq (((n \NATmul k') \NATplus (m \NATmul k')) \NATplus n) \NATplus m   \]
        \[    \Eq ((n \NATmul k') \NATplus ((m \NATmul k') \NATplus n)) \NATplus m   \]
        \[    \Eq ((n \NATmul k') \NATplus (n \NATplus (m \NATmul k'))) \NATplus m   \]
        \[    \Eq (((n \NATmul k') \NATplus n) \NATplus (m \NATmul k')) \NATplus m   \]
        \[    \Eq ((n \NATmul k') \NATplus n) \NATplus ((m \NATmul k') \NATplus m)   \]
        \[    \Eq (n \NATmul (k' \NATplus \NATone)) \NATplus (m \NATmul (k' \NATplus \NATone)).  \]
        Thus $(n \NATplus m) \NATmul (k' \NATplus \NATone) \Eq (n \NATmul (k' \NATplus \NATone)) \NATplus (m \NATmul (k' \NATplus \NATone))$.
      \end{proof}

      Thus every natural number is an element of $\Phi$.
      Therefore $(n \NATplus m) \NATmul k \Eq (n \NATmul k) \NATplus (m \NATmul k)$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Multiplication with $1$ and $2$}
    \begin{proposition}[forthel]
      Let $n$ be a natural number.
      Then $n \NATmul \NATone \Eq n$.
    \end{proposition}
    \begin{proof}[forthel]
      $n \NATmul \NATone
        \Eq n \NATmul (\NATzero \NATplus \NATone)
        \Eq (n \NATmul \NATzero) \NATplus n
        \Eq \NATzero \NATplus n
        \Eq n$.
    \end{proof}

    \begin{corollary}[forthel]
      Let $n$ be a natural number.
      Then $n \NATmul \NATtwo \Eq n \NATplus n$.
    \end{corollary}
    \begin{proof}[forthel]
      $n \NATmul \NATtwo
        \Eq n \NATmul (\NATone \NATplus \NATone)
        \Eq (n \NATmul \NATone) \NATplus n
        \Eq n \NATplus n$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Associativity}
    \begin{proposition}[forthel]
      Let $n, m, k$ be natural numbers.
      Then $n \NATmul (m \NATmul k) \Eq (n \NATmul m) \NATmul k$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \SClass{k'}{\Nat}{n \NATmul (m \NATmul k') \Eq (n \NATmul m) \NATmul k'}$.

      (1) $\NATzero$ is contained in $\Phi$.
      Indeed $n \NATmul (m \NATmul \NATzero)
        \Eq n \NATmul \NATzero
        \Eq \NATzero
        \Eq (n \NATmul m) \NATmul \NATzero$.

      (2) For all $k' \Elem \Phi$ we have $k' \NATplus \NATone \Elem \Phi$.
      \begin{proof}
        Let $k' \Elem \Phi$.
        Then
        \[  n \NATmul (m \NATmul (k' \NATplus \NATone))                          \]
        \[    \Eq n \NATmul ((m \NATmul k') \NATplus m)                      \]
        \[    \Eq (n \NATmul (m \NATmul k')) \NATplus (n \NATmul m)            \]
        \[    \Eq ((n \NATmul m) \NATmul k') \NATplus (n \NATmul m)            \]
        \[    \Eq ((n \NATmul m) \NATmul k') \NATplus ((n \NATmul m) \NATmul \NATone)  \]
        \[    \Eq (n \NATmul m) \NATmul (k' \NATplus \NATone).                     \]
      \end{proof}

      Hence every natural number is contained in $\Phi$ (by \sr{induction I}{induction}).
      Thus $n \NATmul (m \NATmul k) \Eq (n \NATmul m) \NATmul k$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Commutativity}

    \symdecl*{commutativity of multiplication}

    \begin{proposition}[forthel,name=commutativity of multiplication]
      Let $n, m$ be natural numbers.
      Then \[ n \NATmul m \Eq m \NATmul n. \]
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \SClass{m'}{\Nat}{n \NATmul m' \Eq m' \NATmul n}$.

      (1) $\NATzero$ is contained in $\Phi$.
      \begin{proof}
        Define $\Psi = \SClass{n'}{\Nat}{n' \NATmul \NATzero \Eq \NATzero \NATmul n'}$.

        (1a) $\NATzero$ is contained in $\Psi$.

        (1b) For all $n' \Elem \Psi$ we have $n' \NATplus \NATone \Elem \Psi$.
        \begin{proof}
          Let $n' \Elem \Psi$.
          Then
          \[ (n' \NATplus \NATone) \NATmul \NATzero
            \Eq \NATzero
            \Eq n' \NATmul \NATzero
            \Eq \NATzero \NATmul n'
            \Eq (\NATzero \NATmul n') \NATplus \NATzero
            \Eq \NATzero \NATmul (n' \NATplus \NATone). \]
        \end{proof}

        Hence every natural number is contained in $\Psi$ (by \sr{induction I}{induction}).
        Thus $n \NATmul \NATzero \Eq \NATzero \NATmul n$.
      \end{proof}

      (2) $\NATone$ belongs to $\Phi$.
      \begin{proof}
        Define $\Theta = \SClass{n'}{\Nat}{n' \NATmul \NATone \Eq \NATone \NATmul n'}$.

        (2a) $\NATzero$ is contained in $\Theta$.

        (2b) For all $n' \Elem \Theta$ we have $n' \NATplus \NATone \Elem \Theta$.
        \begin{proof}
          Let $n' \Elem \Theta$.
          Then
          \[  (n' \NATplus \NATone) \NATmul \NATone        \]
          \[    \Eq (n' \NATmul \NATone) \NATplus \NATone    \]
          \[    \Eq (\NATone \NATmul n') \NATplus \NATone    \]
          \[    \Eq \NATone \NATmul (n' \NATplus \NATone).   \]
        \end{proof}

        Thus every natural number is contained in $\Theta$ (by \sr{induction I}{induction}).
        Therefore $n \NATmul \NATone \Eq \NATone \NATmul n$.
      \end{proof}

      (3) For all $m' \Elem \Phi$ we have $m' \NATplus \NATone \Elem \Phi$.
      \begin{proof}
        Let $m' \Elem \Phi$.
        Then
        \[  n \NATmul (m' \NATplus \NATone)                \]
        \[    \Eq (n \NATmul m') \NATplus (n \NATmul \NATone)  \]
        \[    \Eq (m' \NATmul n) \NATplus (\NATone \NATmul n)  \]
        \[    \Eq (\NATone \NATmul n) \NATplus (m' \NATmul n)  \]
        \[    \Eq (\NATone \NATplus m') \NATmul n            \]
        \[    \Eq (m' \NATplus \NATone) \NATmul n.           \]
        Indeed $((\NATone \NATmul n) \NATplus (m' \NATmul n)) \Eq (\NATone \NATplus m') \NATmul n$. %!
      \end{proof}

      Hence every natural number is contained in $\Phi$ (by \sr{induction I}{induction}).
      Thus $n \NATmul m \Eq m \NATmul n$.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Non-Existence of Zero-Divisors}
    \begin{proposition}[forthel]
      Let $n, m$ be natural numbers such that $n \NATmul m \Eq \NATzero$.
      Then $n \Eq \NATzero$ or $m \Eq \NATzero$.
    \end{proposition}
    \begin{proof}[forthel]
      Suppose $n, m \NotEq \NATzero$.
      Take natural numbers $n', m'$ such that $n \Eq (n' \NATplus \NATone)$ and $m \Eq (m' \NATplus \NATone)$.
      Then
      \[  \NATzero                                     \]
      \[    \Eq n \NATmul m                         \]
      \[    \Eq (n' \NATplus \NATone) \NATmul (m' \NATplus \NATone)           \]
      \[    \Eq ((n' \NATplus \NATone) \NATmul m') \NATplus (n' \NATplus \NATone)    \]
      \[    \Eq (((n' \NATplus \NATone) \NATmul m') \NATplus n') \NATplus \NATone.   \]
      Indeed $(n' \NATplus \NATone) \NATmul (m' \NATplus \NATone) \Eq ((n' \NATplus \NATone) \NATmul m') \NATplus (n' \NATplus \NATone)$.
      Hence $\NATzero \Eq k \NATplus \NATone$ for some natural number $k$.
      Contradiction.
    \end{proof}
  \end{sfragment}

  \begin{sfragment}{Cancellation}

    \symdecl*{right-cancellability of multiplication}

    \begin{proposition}[forthel,name=right-cancellability of multiplication]
      Let $n, m, k$ be natural numbers.
      Assume $k \NotEq \NATzero$.
      If $n \NATmul k \Eq m \NATmul k$ then $n \Eq m$.
    \end{proposition}
    \begin{proof}[forthel]
      Define $\Phi = \SClass{n'}{\Nat}{\text{ for all }m' \Elem \Nat\text{ if }n' \NATmul k \Eq m' \NATmul k\text{ and }k \NotEq \NATzero\text{ then }n' \Eq m'}$.

      (1) $\NATzero$ is contained in $\Phi$.
      \begin{proof}
        Let $m' \Elem \Nat$.
        Assume $\NATzero \NATmul k \Eq m' \NATmul k$ and $k \NotEq \NATzero$.
        Then $m' \NATmul k \Eq \NATzero$.
        Hence $m' \Eq \NATzero$ or $k \Eq \NATzero$.
        Thus $m' \Eq \NATzero$.
      \end{proof}

      (2) For all $n' \Elem \Phi$ we have $n' \NATplus \NATone \Elem \Phi$. 
      \begin{proof}
        Let $n' \Elem \Phi$.

        Let us show that for all $m' \Elem \Nat$ if $(n' \NATplus \NATone) \NATmul k \Eq m' \NATmul k$ and $k \NotEq \NATzero$ then $n' \NATplus \NATone \Eq m'$.
          Let $m' \Elem \Nat$.
          Assume $(n' \NATplus \NATone) \NATmul k \Eq m' \NATmul k$ and $k \NotEq \NATzero$.

          \begin{case}{$m' \Eq \NATzero$.}
            Then $(n' \NATplus \NATone) \NATmul k \Eq \NATzero$.
            Hence $n' \NATplus \NATone \Eq \NATzero$.
            Contradiction.
          \end{case}

          \begin{case}{$m' \NotEq \NATzero$.}
            Take a natural number $l$ such that $m' \Eq l \NATplus \NATone$.
            Then $(n' \NATplus \NATone) \NATmul k \Eq (l \NATplus \NATone) \NATmul k$.
            Hence $(n' \NATmul k) \NATplus k
              \Eq (n' \NATmul k) \NATplus (\NATone \NATmul k)
              \Eq (n' \NATmul k) \NATplus k
              \Eq (l \NATplus \NATone) \NATmul k
              \Eq (l \NATmul k) \NATplus (\NATone \NATmul k)
              \Eq (l \NATmul k) \NATplus k$.
            Thus $n' \NATmul k \Eq l \NATmul k$ (by \sn{right-cancellability of addition}).
            Indeed $n' \NATmul k$ and $l \NATmul k$ are natural numbers.
            Then we have $n' \Eq l$.
            Indeed if $n' \NATmul k \Eq l \NATmul k$ and $k \NotEq \NATzero$ then $n' \Eq l$.
            Therefore $n' \NATplus \NATone \Eq l \NATplus \NATone \Eq m'$.
          \end{case}
        End.

        Hence $n' \NATplus \NATone \Elem \Phi$.
      \end{proof}

      Thus every natural number is contained in $\Phi$ (by \sr{induction I}{induction}).
      Therefore if $n \NATmul k \Eq m \NATmul k$ then $n \Eq m$.
    \end{proof}

    \symdecl*{left-cancellability of multiplication}

    \begin{corollary}[forthel,name=left-cancellability of multiplication]
      Let $n, m, k$ be natural numbers.
      Assume $k \NotEq \NATzero$.
      If $k \NATmul n \Eq k \NATmul m$ then $n \Eq m$.
    \end{corollary}
    \begin{proof}[forthel]
      Assume $k \NATmul n \Eq k \NATmul m$.
      We have $k \NATmul n \Eq n \NATmul k$ and $k \NATmul m \Eq m \NATmul k$.
      Hence $n \NATmul k \Eq m \NATmul k$.
      Thus $n \Eq m$ (by \sn{right-cancellability of multiplication}).
    \end{proof}
  \end{sfragment}
\end{sfragment}
\end{smodule}
\end{document}
