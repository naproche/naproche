\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{exponentiation-and-divisibility.ftl}
\importmodule[libraries/arithmetics]{exponentiation-and-ordering.ftl}
\importmodule[libraries/arithmetics]{divisibility.ftl}

\begin{proposition}[forthel]
  Let $n, m, k$ be natural numbers such that $n, m \NotEq \NATzero$ and $k \NATgtr \NATone$.
  Then $\NATexp{k}{n} \NATmid \NATexp{k}{m}$ iff $n \NATleq m$.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{$\NATexp{k}{n} \NATmid \NATexp{k}{m}$.}
    Assume $n \NATgtr m$.
    Take a nonzero natural number $l$ such that $n \Eq m \NATplus l$.
    Then $\NATexp{k}{n}
      \Eq \NATexp{k}{m \NATplus l}
      \Eq \NATexp{k}{m} \NATmul \NATexp{k}{l}$.
    Hence $\NATexp{k}{m} \NATmid \NATexp{k}{n}$.
    Thus $\NATexp{k}{m} \Eq \NATexp{k}{n}$.
    Therefore $m \Eq n$.
    Contradiction.
  \end{case}

  \begin{case}{$n \NATleq m$.}
    Take a natural number $l$ such that $m \Eq n \NATplus l$.
    Then $\NATexp{k}{m}
      \Eq \NATexp{k}{n \NATplus l}
      \Eq \NATexp{k}{n} \NATmul \NATexp{k}{l}$.
    Hence $\NATexp{k}{n} \NATmid \NATexp{k}{m}$.
  \end{case}
\end{proof}

\begin{proposition}[forthel]
  Let $n$ be a composite natural number.
  Then $n$ has a nontrivial divisor $m$ such that $\NATexp{m}{\NATtwo} \NATleq n$.
\end{proposition}
\begin{proof}[forthel]
  Define $A \DefEq \SClass{m}{\Nat}{m\text{ is a nontrivial divisor of }n}$.
  $A$ is nonempty.
  Hence we can take a $m \Elem A$ such that $m \NATleq l$ for all $l \Elem A$.
  Consider a natural number $k$ such that $m \NATmul k \Eq n$.
  Then $m \NATleq k$.
  Hence $\NATexp{m}{\NATtwo} \Eq m \NATmul m \NATleq m \NATmul k \Eq n$.
  Therefore $\NATexp{m}{\NATtwo} \NATleq n$.
\end{proof}
\end{smodule}
\end{document}