\documentclass{stex}
\libusepackage{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}{cardinals-and-maps.ftl}
\importmodule[libraries/set-theory]{cardinals.ftl}
\importmodule[articles]{cantor-schroeder-bernstein.ftl}

\begin{proposition}[forthel,id=SET_THEORY_06_5513850721927168]
  Let $x, y$ be sets and $f \FUNfrominto{x}{y}$ and $a \SETinclude x$.
  Then $\SETcard{\FUNim{f}{a}} \Eq \SETcard{a}$.
\end{proposition}
\begin{proof}[forthel]
  $f \FUNrest a$ is a bijection between $a$ and $\FUNim{f}{a}$.
  $\FUNim{f}{a}$ is a set.
  Hence $\SETcard{a} \Eq \SETcard{\FUNim{f}{a}}$.
\end{proof}

\begin{proposition}[forthel,id=SET_THEORY_06_6702394681735923]
  Let $\kappa$ be a cardinal and $x \SETinclude \kappa$.
  Then $\SETcard{x} \ORDleq \kappa$.
\end{proposition}
\begin{proof}[forthel]
  Assume $\SETcard{x} \ORDgtr \kappa$.
  Then $\kappa \SETinclude \SETcard{x}$.
  Take a bijection $f$ between $\SETcard{x}$ and $x$.
  Then $f \FUNrest \kappa$ is an injective map from $\kappa$ to $x$.
  $\FUNid{x}$ is an injective map from $x$ to $\kappa$.
  Hence $x$ and $\kappa$ are equinumerous (by \printref{cantor_schroeder_bernstein}).
  Indeed $x$ is a set.
  Thus $\SETcard{x} \Eq \kappa$.
  Contradiction.
\end{proof}

\begin{proposition}[forthel,id=SET_THEORY_06_407116133171200]
  Let $x, y$ be sets.
  Then there exists an injective map from $x$ to $y$ iff $\SETcard{x} \ORDleq \SETcard{y}$.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{there exists an injective map from $x$ to $y$.}
    Consider an injective map $f$ from $x$ to $y$.
    Take a bijection $g$ from $\SETcard{x}$ to $x$ and a bijection $h$ from $y$ to $\SETcard{y}$.
    Then $g$ is an injective map from $\SETcard{x}$ to $x$ and $h$ is an injective map from $y$ to $\SETcard{y}$.
    Hence $h \FUNcomp f$ is an injective map from $x$ to $\SETcard{y}$.
    Thus $(h \FUNcomp f) \FUNcomp g$ is an injective map from $\SETcard{x}$ to $\SETcard{y}$.
    Therefore $\SETcard{x}
      \Eq \SETcard{\SETcard{x}}
      \Eq \SETcard{\FUNim{(h \FUNcomp f) \FUNcomp g}{\SETcard{x}}}$
    (by \printref{SET_THEORY_06_2820082336006144}, \printref{SET_THEORY_06_5513850721927168}).
    We have $\FUNim{(h \FUNcomp f) \FUNcomp g}{\SETcard{x}} \SETinclude \SETcard{y}$.
    Hence $\SETcard{x} \ORDleq \SETcard{y}$.
  \end{case}

  \begin{case}{$\SETcard{x} \ORDleq \SETcard{y}$.}
    Take a bijection $g$ from $x$ to $\SETcard{x}$ and a bijection $h$ from $\SETcard{y}$ to $y$.
    We have $\SETcard{x} \SETinclude \SETcard{y}$.
    Hence $g$ is an injective map from $x$ to $\SETcard{y}$.
    Take $f = h \FUNcomp g$.
    Then $f$ is an injective map from $x$ to $y$.
    Indeed $f$ is injective.
    Indeed $h$ is an injective map from $\SETcard{y}$ to $y$.
  \end{case}
\end{proof}

\begin{corollary}[forthel,id=SET_THEORY_06_4944303633727488]
  Let $x$ be a set and $y \SETinclude x$.
  Then $\SETcard{y} \ORDleq \SETcard{x}$.
\end{corollary}
\begin{proof}[forthel]
  Define $f(v) = v$ for $v \in y$.
  Then $f$ is an injective map from $y$ to $x$.
  Hence $\SETcard{y} \ORDleq \SETcard{x}$.
\end{proof}

\begin{corollary}[forthel,id=SET_THEORY_06_7746592696172544]
  Let $x, y$ be sets such that $\SETcard{y} \ORDless \SETcard{x}$.
  Then $x \SETdiff y$ is nonempty.
\end{corollary}
\begin{proof}[forthel]
  Assume the contrary.
  Then $x \SETinclude y$.
  Hence $\SETcard{x} \ORDleq \SETcard{y}$.
  Contradiction.
\end{proof}

\begin{proposition}[forthel,id=SET_THEORY_06_192336220913664]
  Let $x, y$ be nonempty sets.
  Then there exists a surjective map from $x$ onto $y$ iff $\SETcard{x} \ORDgeq \SETcard{y}$.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{there exists a surjective map from $x$ onto $y$.}
    Consider a surjective map $f$ from $x$ onto $y$.
    Define $g(v) =$ ``choose $u \Elem x$ such that $f(u) \Eq v$ in $u$'' for $v \in y$.
    Then $g$ is an injective map from $y$ to $x$.
    Indeed we can show that $g$ is injective.
      Let $v, v' \Elem y$.
      Assume $g(v) \Eq g(v')$.
      Take $u \Elem x$ such that $f(u) \Eq v$ and $g(v) \Eq u$.
      Take $u' \Elem x$ such that $f(u') \Eq v'$ and $g(v') \Eq u'$.
      Then $v
        \Eq f(u)
        \Eq f(g(v))
        \Eq f(g(v'))
        \Eq f(u')
        \Eq v'$.
    End.
    Hence $\SETcard{x} \ORDgeq \SETcard{y}$.
  \end{case}

  \begin{case}{$\SETcard{x} \ORDgeq \SETcard{y}$.}
    Then we can take an injective map $f$ from $y$ to $x$.
    Then $\FUNinv{f}$ is a bijection between $\FUNrange(f)$ and $y$.
    Consider an element $z$ of $y$.
    Define \[ g(u) =
      \begin{cases}
        \FUNinv{f}(u) & : u \Elem \FUNrange(f) \\
        z         & : u \NotElem \FUNrange(f)
      \end{cases} \]
    for $u \in x$.
    Then $g$ is a surjective map from $x$ onto $y$.
    Indeed we can show that every element of $y$ is a value of $g$.
      Let $v \Elem y$.
      Then $f(v) \Elem \FUNrange(f)$.
      Hence $g(f(v)) \Eq \FUNinv{f}(f(v)) \Eq v$.
    End.
  \end{case}
\end{proof}

\begin{proposition}[forthel,id=SET_THEORY_06_5843717288099840]
  Let $x, y$ be nonempty sets.
  $\SETcard{x} \ORDless \SETcard{y}$ iff there exists an injective map from $x$ to $y$ and there exists no surjective map from $x$ onto $y$.
\end{proposition}
\begin{proof}[forthel]
  There exists an injective map from $x$ to $y$ and there exists no surjective map from $x$ onto $y$ iff $\SETcard{x} \ORDleq \SETcard{y}$ and $\SETcard{x} \ORDngeq \SETcard{y}$ (by \printref{SET_THEORY_06_407116133171200}, \printref{SET_THEORY_06_192336220913664}).
  $\SETcard{x} \ORDleq \SETcard{y}$ and $\SETcard{x} \ORDngeq \SETcard{y}$ iff $\SETcard{x} \ORDleq \SETcard{y}$ and $\SETcard{x} \neq \SETcard{y}$.
  $\SETcard{x} \ORDleq \SETcard{y}$ and $\SETcard{x} \neq \SETcard{y}$ iff $\SETcard{x} \ORDless \SETcard{y}$.
\end{proof}

\begin{proposition}[forthel,id=SET_THEORY_06_8113916590686208]
  Let $x, y$ be sets and $f \FUNfromto{x}{y}$ and $a \SETinclude x$.
  Then $\SETcard{\FUNim{f}{a}} \ORDleq \SETcard{a}$.
\end{proposition}
\begin{proof}[forthel]
  \begin{case}{$a$ is empty.} \end{case}

  \begin{case}{$a$ is nonempty.}
    $f \FUNrest a$ is a surjective map from $a$ onto $\FUNim{f}{a}$.
    $\FUNim{f}{a}$ is nonempty.
    Hence $\SETcard{\FUNim{f}{a}} \ORDleq \SETcard{a}$ (by \printref{SET_THEORY_06_192336220913664}).
    Indeed $a$ and $\FUNim{f}{a}$ are sets.
  \end{case}
\end{proof}
\end{smodule}
\end{document}
