\documentclass[../../sets-and-functions.ftl.tex]{subfiles}

\typeout{
  \begin{forthel}
    [readtex basic-notions/sets-and-functions/sections/01_sets/04_symmetric-difference.ftl.tex]
    [readtex basic-notions/sets-and-functions/sections/02_functions/02_image-and-preimage.ftl.tex]

    [checkconsistency off]

    Let $u,v,w$ denote elements.
    Let $x,y,z$ denote sets.
    Let $f,g,h$ denote functions.
  \end{forthel}
}

\begin{document}
  \section{Functions and the symmetric difference}

  \begin{forthel}
    \begin{proposition}[SF 02 04 657921]
      Let $f$ be a function from $x$ to $y$ and $a,a' \subseteq x$.
      Then \[ f[a \symdiff a'] \supseteq f[a] \symdiff f[a']. \]
    \end{proposition}
    \begin{proof}
      Let $v \in f[a] \symdiff f[a']$.
      We have $f[a] \symdiff f[a'] = (f[a] \cup f[a']) \setminus (f[a] \cap f[a'])$.
      Hence $v \in f[a] \cup f[a']$ and $v \notin f[a] \cap f[a']$.
      We have $f[a] \cup f[a'] = f[a \cup a']$ (by SF 02 02 319894).

      Thus we can take $u \in a \cup a'$ such that $v = f(u)$.

      Let us show that $u \notin a \cap a'$.
        Assume the contrary.
        Then $v = f(u) \in f[a \cap a']$.
        We have $f[a \cap a'] \subseteq f[a] \cap f[a']$.
        Hence $v \in f[a] \cap f[a']$.
        Contradiction.
      End.

      Thus $u \in a \symdiff a'$.
      Therefore $v \in f[a \symdiff a']$.
    \end{proof}


    \begin{proposition}[SF 02 04 661750]
      Let $f$ be a function from $x$ to $y$ and $b,b' \subseteq y$.
      Then \[ f^{-}[b \symdiff b'] \supseteq f^{-}[b] \symdiff f^{-}[b']. \]
    \end{proposition}
    \begin{proof}
      Let $u \in f^{-}[b] \symdiff f^{-}[b']$.
      Then $u \in f^{-}[b] \cup f^{-}[b']$ and $u \notin f^{-}[b] \cap f^{-}[b']$.
      We have $f^{-}[b] \cup f^{-}[b'] = f^{-}[b \cup b']$.
      Hence we can take $v \in b \cup b'$ such that $f(u) = v$.

      Let us show that $v \notin b \cap b'$.
        Assume the contrary.
        Then $v = f(u) \in b \cap b'$.
        Hence $u \in f^{-}[b \cap b'] = f^{-}[b] \cap f^{-}[b']$.
        Thus $v = f(u) \in b \cap b'$.
        Contradiction.
      End.

      Therefore $v \in b \symdiff b'$.
      Hence $u \in f^{-}[b \symdiff b']$.
    \end{proof}
  \end{forthel}
\end{document}
